"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var AnyTouch=_interopDefault(require("./any-touch.common")),default_1=function(){function t(t){this.stock=[],this.ClassObject=t}return t.prototype.getIndexByEl=function(t){for(var e=0,n=this.stock.length;e<n;e++)if(t===this.stock[e].el)return e;return-1},t.prototype.getInstanceByIndex=function(t){return this.stock[t].instance},t.prototype.removeInstanceByIndex=function(t){this.stock.splice(t,1)},t.prototype.getOrCreateInstanceByEl=function(t){var e=this.getIndexByEl(t);if(-1===e){var n=new this.ClassObject(t);return this.stock.push({el:t,instance:n}),n}return this.getInstanceByIndex(e)},t}(),iManage=new default_1(AnyTouch),plugin={install:function(t){var e=function(t,e){var n=iManage.getOrCreateInstanceByEl(t);void 0!==e.value&&e.value(n)};t.directive("touch",{inserted:function(t,n){e(t,n)},update:function(t,n){e(t,n)},unbind:function(t){!function(t){var e=iManage.getIndexByEl(t);-1!==e&&void 0!==iManage.getInstanceByIndex(e)&&(iManage.getInstanceByIndex(e).destroy(),iManage.removeInstanceByIndex(e))}(t)}})}};module.exports=plugin;
