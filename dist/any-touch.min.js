var AnyTouch=function(){"use strict";var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};function e(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function n(t){var e="function"==typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}}function r(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}function o(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t}function s(t){var e="function"==typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}}function a(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t}var c=function(){function t(){this._listenersMap={}}return t.prototype.on=function(t,e){return void 0===this._listenersMap[t]&&(this._listenersMap[t]=[]),this._listenersMap[t].push(e),this},t.prototype.once=function(t,e){return e.isOnce=!0,this.on(t,e),this},t.prototype.off=function(t,e){var i=this._listenersMap[t];if(void 0!==i)if(void 0===e)delete this._listenersMap[t];else{var n=i.findIndex(function(t){return t===e});i.splice(n,1)}return this},t.prototype.emit=function(t){for(var e,i,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this._listenersMap[t];if(void 0!==o&&0<o.length){try{for(var c=s(o.entries()),p=c.next();!p.done;p=c.next()){var l=a(p.value,2),h=l[0],d=l[1];if(d.isOnce){var f=d;o.splice(h,1),f.apply(void 0,u(n))}else d.apply(void 0,u(n))}}catch(t){e={error:t}}finally{try{p&&!p.done&&(i=c.return)&&i.call(c)}finally{if(e)throw e.error}}return!0}return!1},t.prototype.has=function(t){return void 0!==this._listenersMap[t]&&0<this._listenersMap[t].length},t.prototype.getEventNames=function(){var t=[];for(var e in this._listenersMap)t.push(e);return t},t.prototype.eventNames=function(){return this.getEventNames()},t.prototype.destroy=function(){this._listenersMap={}},t}(),p=void 0===window||"ontouchstart"in window,l="none",h=["left","right"],d=["up","down"],f=["left","right","up","down"],v="compute",y="clientX",m="clientY",g="cancel",T="end",x="touch",w="mouse",b=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},E=function(t,e){return t.x*e.x+t.y*e.y},P=function(t,e){var i=b(t)*b(e);if(0===i)return 0;var n=E(t,e)/i;return n>1&&(n=1),Math.acos(n)},_=function(t,e){return t.x*e.y-e.x*t.y},O=function(t,e){var i=P(t,e);return _(t,e)>0&&(i*=-1),A(i)},A=function(t){return t/Math.PI*180},L=function(t){var e=t.length,i=t.reduce(function(t,e){return t.x+=e[y],t.y+=e[m],t},{x:0,y:0});return{x:Math.round(i.x/e),y:Math.round(i.y/e)}},S=function(t,e){return t===e?l:Math.abs(t)>Math.abs(e)?0<t?"right":"left":0<e?"down":"up"},M=Object.freeze({getVLength:b,getDotProduct:E,getRadian:P,getCross:_,getAngle:O,radianToAngle:A,angleToRadian:function(t){return t/180*Math.PI},getCenter:L,getDirection:S}),X=function(){},Y=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return e(i,t),i.prototype.load=function(t){var e=Array.from(t.targetTouches||t.touches).map(function(t){return{clientX:t.clientX,clientY:t.clientY}}),i=Array.from(t.changedTouches).map(function(t){return{clientX:t.clientX,clientY:t.clientY}});return{eventType:t.type.replace("touch",""),changedPoints:i,points:e,nativeEvent:t}},i}(X),z=function(t){function i(){var e=t.call(this)||this;return e.isPressed=!1,e}return e(i,t),i.prototype.load=function(t){var e=t.clientX,i=t.clientY,n=t.type,r=t.button,o=this.prevPoints||[{clientX:e,clientY:i}],s=[{clientX:e,clientY:i}];if(this.prevPoints=[{clientX:e,clientY:i}],"mousedown"===n){if(0!==r)return;this.isPressed=!0}if("mousemove"===n){if(!this.isPressed)return}else if("mouseup"===n){if(!this.isPressed)return;s=[],this.isPressed=!1}return{eventType:{mousedown:"start",mousemove:"move",mouseup:T}[n],changedPoints:o,points:s,nativeEvent:t}},i}(X),R=function(){function t(){this.adapter=p?new Y:new z}return t.prototype.load=function(t){var e=this.adapter.load(t);if(void 0!==e){var n=e.eventType,r=e.points,o=e.changedPoints,s=r.length,a=o.length,u="start"===n,c=T===n||g===n;0<s&&(this._center=L(e.points));var p=Date.now(),l=t.target,h=t.currentTarget,d=this._center||{},f=d.x,v=d.y;return i({},e,{preventDefault:function(){t.preventDefault()},isStart:u,isEnd:c,pointLength:s,changedPointLength:a,center:this._center,x:f,y:v,timestamp:p,target:l,currentTarget:h,nativeEvent:t})}},t}(),D=function(t,e){var i=t.prevInput,n=t.input,r=0,o=0,s=0,a=0,u=l;if(void 0!==n){var c=i||n,p=n.timestamp-c.timestamp;if(-1===[g,T].indexOf(n.eventType)&&(16<p||void 0===e.get("direction"))){var h=n.x-c.x,d=n.y-c.y;s=Math.round(h/p*100)/100,a=Math.round(d/p*100)/100,r=Math.abs(s),o=Math.abs(a),u=S(h,d)||e.get("direction"),e.set({speedX:s}),e.set({speedY:a}),e.set({velocityX:r}),e.set({velocityY:o}),e.set({direction:u})}else s=e.get("speedX",0),a=e.get("speedY",0),r=e.get("velocityX",0),o=e.get("velocityY",0),u=e.get("direction")}return{velocityX:r,velocityY:o,speedX:s,speedY:a,direction:u}};var I=function(t,e){var i=t.pointLength;return t.isStart?(e.set({maxPointLength:i}),i):e.get("maxPointLength",0)},F=function(t){return{x:t.points[1][y]-t.points[0][y],y:t.points[1][m]-t.points[0][m]}};function V(t,e){var i=t.startMultiInput,n=t.prevInput,r=t.input;if(void 0!==i&&void 0!==n&&1<n.points.length&&1<r.points.length){var o=F(i),s=F(n),a=F(r),u=function(t){var e=t.startV,i=t.prevV,n=t.activeV,r=b(n)/b(i);return{scale:b(n)/b(e),deltaScale:r}}({startV:o,activeV:a,prevV:s}),c=u.scale,p=u.deltaScale,l=function(t){var e=t.startV,i=t.prevV,n=t.activeV,r=O(n,i);return{angle:O(n,e),deltaAngle:r}}({startV:o,prevV:s,activeV:a}),h=l.deltaAngle,d=l.angle;return e.set({angle:d}),e.set({scale:c}),{scale:c,deltaScale:p,deltaAngle:h,angle:d}}return{scale:e.get("scale",1),deltaScale:1,deltaAngle:0,angle:e.get("angle",0)}}function $(t,e){var n=t.input,r=function(t,e){var i=t.startInput,n=t.input,r=n.eventType,o=0,s=0;"start"===r?(e.set({displacementX:o}),e.set({displacementY:s})):"move"===r?(o=Math.round(n.points[0][y]-i.points[0][y]),s=Math.round(n.points[0][m]-i.points[0][m]),e.set({displacementX:o}),e.set({displacementY:s})):"end"===r&&(o=e.get("displacementX",0),s=e.get("displacementY",0));var a=Math.abs(o),u=Math.abs(s);return{displacementX:o,displacementY:s,distanceX:a,distanceY:u,distance:Math.round(b({x:a,y:u})),overallDirection:S(o,s)}}(t,e),o=r.displacementX,s=r.displacementY,a=r.distanceX,u=r.distanceY,c=r.distance,p=r.overallDirection,l=t.input.timestamp-t.startInput.timestamp,h=D(t,e),d=h.velocityX,f=h.velocityY,v=h.speedX,g=h.speedY,T=h.direction,x=function(t,e){var i,n,r=t.prevInput,o=t.input,s=0;if(void 0===r?(i=0,n=0):(i=o.x-r.x,n=o.y-r.y),0!==i||0!==n){var a=Math.sqrt(Math.pow(i,2)+Math.pow(n,2));s=Math.round(A(Math.acos(Math.abs(i)/a))),e.set({deltaXYAngle:s})}else s=e.get("deltaXYAngle",0);return{deltaX:i,deltaY:n,deltaXYAngle:s}}(t,e),w=x.deltaX,E=x.deltaY,P=x.deltaXYAngle,_=V(t,e),O=_.scale,L=_.deltaScale,M=_.angle,X=_.deltaAngle,Y=I(n,e);return i({type:""},n,{velocityX:d,velocityY:f,speedX:v,speedY:g,deltaTime:l,overallDirection:p,direction:T,deltaX:w,deltaY:E,deltaXYAngle:P,displacementX:o,displacementY:s,distanceX:a,distanceY:u,distance:c,scale:O,deltaScale:L,angle:M,deltaAngle:X,maxPointLength:Y})}var j=function(){function t(t){var e=t.$store;this.inputFactory=new R,this.$store=e}return t.prototype.load=function(t){var e=this.inputFactory.load(t);if(void 0!==e)return $(this._record(e),this.$store)},t.prototype._record=function(t){var e=t.eventType;return this.prevInput=this.activeInput,"start"===e&&(t.isStart&&(this.startInput=t),1<t.pointLength?this.startMultiInput=t:this.startMultiInput=void 0),this.activeInput=t,{startMultiInput:this.startMultiInput,startInput:this.startInput,prevInput:this.prevInput,input:t}},t}(),q=function(){function t(){this.store={}}return t.prototype.set=function(t){this.store=i({},this.store,t)},t.prototype.get=function(t,e){return this.store[t]||e},t.prototype.reset=function(){this.store={}},t.prototype.destroy=function(){this.reset()},t}(),N=Object.prototype.toString;var C="possible",U="start",k="move",H="end",W="cancel",B="failed",G="recognized",J=function(){function t(t){this.options=i({},this.constructor.DEFAULT_OPTIONS,{disabled:!1},t),this.name=this.options.name,this.disabled=this.options.disabled,this.status=C,this.isRecognized=!1,this.requireFailureRecognizers=[],this.isWaitingOther=!1}return t.prototype.set=function(t){return void 0===t&&(t={}),this.options=i({},this.options,t),this.$root.update(),this},t.prototype.$injectRoot=function(t){return this.$root=t,this},t.prototype.emit=function(t,e){if(e.type=t,this.$root.eventEmitter.emit(t,e),void 0!==this.$root.el&&(this.$root.options.syncToAttr&&this.$root.el.setAttribute("at-gesture",t),this.$root.options.hasDomEvents)){e.target,e.currentTarget;var i=e.type,n=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i}(e,["target","currentTarget","type"]),r=new Event(i,e);Object.assign(r,n),this.$root.el.dispatchEvent(r)}},t.prototype.requireFailure=function(t){this.requireFailureRecognizers.includes(t)||this.requireFailureRecognizers.push(t)},t.prototype.removeRequireFailure=function(t){var e,i;try{for(var o=n(this.requireFailureRecognizers.entries()),s=o.next();!s.done;s=o.next()){var a=r(s.value,2),u=a[0];if(a[1].name===t.name){this.requireFailureRecognizers.splice(u,1);break}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}},t.prototype.hasRequireFailure=function(){return 0<this.requireFailureRecognizers.length},t.prototype.isAllRequireFailureRecognizersDisabled=function(){return this.requireFailureRecognizers.every(function(t){return t.disabled})},t.prototype.isAllRequiresFailedOrPossible=function(){var t,e;try{for(var i=n(this.requireFailureRecognizers),r=i.next();!r.done;r=i.next()){var o=r.value;if(o.isWaitingOther)return!1;if(B!==o.status&&C!==o.status)return!1}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return!0},t.prototype.isValidPointLength=function(t){return 0===this.options.pointLength||this.options.pointLength===t},t.prototype.isOnlyHorizontal=function(){var t,e,i=!0;try{for(var r=n(this.options.directions),o=r.next();!o.done;o=r.next()){var s=o.value;if(!(i=-1<h.indexOf(s)))return!1}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return i},t.prototype.isOnlyVertical=function(){var t,e,i=!0;try{for(var r=n(this.options.directions),o=r.next();!o.done;o=r.next()){var s=o.value;if(!(i=-1<d.indexOf(s)))return!1}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return i},t.prototype.isVaildDirection=function(t){return-1!==this.options.directions.indexOf(t)||l===t},t.prototype.flow=function(t,e,i){var n,r,o,s,a,u,c,p={1:(n={},n[C]=(r={},r.move=U,r[T]=G,r[g]=W,r),n[U]=(o={},o.move=k,o[T]=H,o[g]=W,o),n[k]=(s={},s.move=k,s[T]=H,s),n),0:(a={},a[U]=(u={},u.move=W,u[T]=H,u[g]=W,u),a[k]=(c={},c.move=W,c[T]=H,c[g]=W,c),a)};return void 0!==p[Number(t)][e]&&p[Number(t)][e][i]||e},t.prototype._resetStatus=function(){-1!==[H,W,G,B].indexOf(this.status)&&(this.status=C)},t.prototype.recognize=function(t){var e=this.test(t);this._resetStatus();var i=t.eventType;this.status=this.flow(e,this.status,i),W!==i?(this.isRecognized=-1<[U,k,H,G].indexOf(this.status),e?(this.afterRecognized(t),this.emit(this.options.name,t),this.emit(this.options.name+this.status,t),this.afterEmit(t)):this.isRecognized&&this.emit(this.options.name+this.status,t)):this.emit(this.options.name+g,t)},t.prototype.afterRecognized=function(t){},t.prototype.afterEmit=function(t){},t}(),K=function(t){function n(e){void 0===e&&(e={});var i=t.call(this,e)||this;return i.tapCount=0,i}return e(n,t),n.prototype.getTouchAction=function(){return 1<this.options.tapTimes?["manipulation"]:["auto"]},n.prototype._isValidDistanceFromPrevTap=function(t){if(void 0!==this.prevTapPoint){var e=b({x:t.x-this.prevTapPoint.x,y:t.y-this.prevTapPoint.y});return this.prevTapPoint=t,this.options.tapsPositionTolerance>=e}return this.prevTapPoint=t,!0},n.prototype._isValidInterval=function(){var t=Date.now();if(void 0===this.prevTapTime)return this.prevTapTime=t,!0;var e=t-this.prevTapTime;return this.prevTapTime=t,e<this.options.waitNextTapTime},n.prototype.recognize=function(t){var e=this;T===t.eventType&&(this.status=C,this.test(t)?(clearTimeout(this._delayFailTimer),clearTimeout(this._waitOtherFailedTimer),this.isWaitingOther=!1,this._isValidDistanceFromPrevTap(t)&&this._isValidInterval()?this.tapCount++:this.tapCount=1,0==this.tapCount%this.options.tapTimes?this.hasRequireFailure()&&!this.isAllRequireFailureRecognizersDisabled()?(this.isWaitingOther=!0,this._waitOtherFailedTimer=setTimeout(function(){e.isAllRequiresFailedOrPossible()?(e.status=G,e.emit(e.options.name,i({},t,{tapCount:e.tapCount}))):e.status=B,e.isWaitingOther=!1},this.options.waitNextTapTime)):(this.status=G,this.emit(this.options.name,i({},t,{tapCount:this.tapCount})),this.reset()):this._delayFailTimer=setTimeout(function(){e.status=B,e.reset()},this.options.waitNextTapTime)):(this.reset(),this.status=B))},n.prototype.reset=function(){this.tapCount=0,this.prevTapPoint=void 0,this.prevTapTime=void 0},n.prototype.test=function(t){var e=t.distance,i=t.deltaTime;return t.maxPointLength===this.options.pointLength&&this.options.positionTolerance>=e&&this.options.maxPressTime>i},n.prototype.afterEmit=function(t){},n.DEFAULT_OPTIONS={name:"tap",pointLength:1,tapTimes:1,waitNextTapTime:300,disabled:!1,positionTolerance:2,tapsPositionTolerance:9,maxPressTime:250},n}(J),Q=function(t){function i(e){return void 0===e&&(e={}),t.call(this,e)||this}return e(i,t),i.prototype.getTouchAction=function(){return["auto"]},i.prototype.recognize=function(t){var e=this,i=t.eventType,n=t.deltaTime;"start"===i&&this.test(t)?(this._resetStatus(),this.cancel(),this._timeoutId=setTimeout(function(){e.status=G,e.emit(e.options.name,t)},this.options.minPressTime)):T===i&&G===this.status?this.emit(this.options.name+"up",t):(!this.test(t)||this.options.minPressTime>n&&-1!==[T,g].indexOf(i))&&(this.cancel(),this.status=B)},i.prototype.test=function(t){var e=t.distance,i=t.pointLength;return this.options.positionTolerance>e&&this.isValidPointLength(i)},i.prototype.cancel=function(){clearTimeout(this._timeoutId)},i.prototype.afterEmit=function(){},i.DEFAULT_OPTIONS={name:"press",pointLength:1,positionTolerance:9,minPressTime:251},i}(J),Z=function(t){function i(e){return void 0===e&&(e={}),t.call(this,e)||this}return e(i,t),i.prototype.getTouchAction=function(){var t=["auto"],e=function(t){var e,i,r=!1,o=!1;try{for(var s=n(t),a=s.next();!a.done;a=s.next()){var u=a.value;if(-1<h.indexOf(u)){if(r=!0,o)break}else{if(!(-1<d.indexOf(u)))throw new Error("wrong direction!");if(o=!0,r)break}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return{hasHorizontal:r,hasVertical:o}}(this.options.directions),i=e.hasHorizontal,r=e.hasVertical;return i&&r?t=[l]:!i&&r?t=["pan-x"]:!r&&i&&(t=["pan-y"]),t},i.prototype.test=function(t){var e=t.distance,i=t.direction,n=t.eventType,r=t.pointLength;return"move"===n&&(this.isRecognized||this.options.threshold<e)&&this.isValidPointLength(r)&&this.isVaildDirection(i)},i.prototype.afterEmit=function(t){l!==t.direction&&this.emit(this.options.name+t.direction,t)},i.prototype.afterRecognized=function(t){this.lockDirection(t)},i.prototype.lockDirection=function(t){if(void 0===this.options.directions||0===this.options.directions.length)return t;var e=0,i=0;return this.options.directions.forEach(function(n){"left"===n&&0>t.deltaX?e=t.deltaX:"right"===n&&0<t.deltaX?e=t.deltaX:"down"===n&&0<t.deltaY?i=t.deltaY:"up"===n&&0>t.deltaY&&(i=t.deltaY)}),t.deltaX=e,t.deltaY=i,t},i.DEFAULT_OPTIONS={name:"pan",threshold:10,pointLength:1,directions:f},i}(J),tt=function(t){function i(e){return void 0===e&&(e={}),t.call(this,e)||this}return e(i,t),i.prototype.getTouchAction=function(){return[l]},i.prototype.afterEmit=function(t){l!==t.direction&&this.emit(this.options.name+t.direction,t)},i.prototype.test=function(t){if(T!==t.eventType)return!1;var e=t.direction,i=t.velocityX,n=t.velocityY,r=t.maxPointLength,o=t.distance,s=i,a=n;this.isOnlyHorizontal()?a=0:this.isOnlyVertical()&&(s=0);var u=Math.sqrt(s*s+a*a);return 1===r&&this.options.threshold<o&&this.isVaildDirection(e)&&this.options.velocity<u},i.DEFAULT_OPTIONS={name:"swipe",threshold:10,velocity:.3,pointLength:1,directions:f},i}(J),et=function(t){function i(e){void 0===e&&(e={});var i=t.call(this,e)||this;return i._prevScale=1,i}return e(i,t),i.prototype.getTouchAction=function(){return[l]},i.prototype.afterEmit=function(t){if(T!==t.eventType){var e=t.scale;if(1!==e){var i=e>this._prevScale?"out":"in";this.emit(this.options.name+i,t)}this._prevScale=e}},i.prototype.test=function(t){var e=t.pointLength,i=t.scale;return this.isValidPointLength(e)&&(this.options.threshold<Math.abs(i-1)||this.isRecognized)},i.DEFAULT_OPTIONS={name:"pinch",threshold:0,pointLength:2},i}(J),it=function(t){function i(e){return void 0===e&&(e={}),t.call(this,e)||this}return e(i,t),i.prototype.getTouchAction=function(){return[l]},i.prototype.afterEmit=function(t){},i.prototype.test=function(t){var e=t.pointLength,i=t.angle;return this.isValidPointLength(e)&&(this.options.threshold<Math.abs(i)||this.isRecognized)},i.DEFAULT_OPTIONS={name:"rotate",threshold:0,pointLength:2},i}(J);return function(){function t(t,e){this.default={touchAction:v,hasDomEvents:!0,isPreventDefault:!0,preventDefaultExclude:/^(?:INPUT|TEXTAREA|BUTTON|SELECT)$/,syncToAttr:!1,cssPrevent:{selectText:!0,drag:!0,tapHighlight:!0,callout:!0}},void 0!==t&&(this.el=t),this.$store=new q,this.inputManage=new j({$store:this.$store}),this.touchDevice=p?x:w,this.options=i({},this.default,e),this.eventEmitter=new c,this._isStopped=!1;var n={eventEmitter:this.eventEmitter,options:this.options,el:t,update:this.update.bind(this)};this._root=n,this.recognizers=[(new it).$injectRoot(n),(new et).$injectRoot(n),(new Z).$injectRoot(n),(new tt).$injectRoot(n),(new K).$injectRoot(n),new K({name:"doubletap",pointLength:1,tapTimes:2,disabled:!0}).$injectRoot(n),(new Q).$injectRoot(n)],this.recognizers[4].requireFailure(this.recognizers[5]),void 0!==this.el&&(this.update(),this._unbindEl=this._bindEL(this.el)._unbindEl)}return t.prototype.updateTouchAction=function(){var t,e;if(v===this.options.touchAction){var i=[];try{for(var r=n(this.recognizers),s=r.next();!s.done;s=r.next()){var a=s.value;i.push.apply(i,o(a.getTouchAction()))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this.el.style.touchAction=function(t){var e,i,r,o=((e={}).auto=0,e.manipulation=1,e["pan-x"]=2,e["pan-y"]=2,e.none=3,e),s=o.none,a=["auto"],u=0;try{for(var c=n(t),p=c.next();!p.done;p=c.next()){var l=p.value,h=o[l];if(s===h){a=[l];break}u<h?(a=[l],u=h):u===h&&0<h&&(a.push(l),u=h)}}catch(t){i={error:t}}finally{try{p&&!p.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}return a.join(" ")}(i)}else this.el.style.touchAction=this.options.touchAction||"auto"},t.prototype.updateCssPrevent=function(){var t={},e=this.options.cssPrevent;if(void 0!==e)for(var i in e.selectText&&(t.mozUserSelect=l,t.userSelect=l,t.msUserSelect=l,t.webkitUserSelect=l,t.msTouchSelect=l),e.drag&&(t.webkitUserDrag=l),e.tapHighlight&&(t.webkitTapHighlightColor="rgba(0,0,0,0)"),e.callout&&(t.webkitTouchCallout=l),t)this.el.style[i]=t[i]},t.prototype.update=function(){void 0!==this.el&&(this.updateTouchAction(),this.updateCssPrevent())},t.prototype._bindEL=function(t){var e=this.catchEvent.bind(this);if(x===this.touchDevice){var i=["touchstart","touchmove","touchend","touchcancel"];return i.forEach(function(i){t.addEventListener(i,e)}),{_unbindEl:function(){i.forEach(function(i){t.removeEventListener(i,e)})}}}return t.addEventListener("mousedown",e),window.addEventListener("mousemove",e),window.addEventListener("mouseup",e),{_unbindEl:function(){t.removeEventListener("mousedown",e),window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",e)}}},t.prototype.add=function(t){t.$injectRoot(this._root),this.recognizers.some(function(e){return t.name===e.name})?this.eventEmitter.emit("error",{code:1,message:t.name+"识别器已经存在!"}):(this.recognizers.push(t),this.update())},t.prototype.get=function(t){return this.recognizers.find(function(e){return t===e.options.name})},t.prototype.set=function(t){this.options=i({},this.default,t),this.update()},t.prototype.stop=function(){this._isStopped=!0},t.prototype.remove=function(t){var e,i;try{for(var o=n(this.recognizers.entries()),s=o.next();!s.done;s=o.next()){var a=r(s.value,2),u=a[0];if(t===a[1].options.name){this.recognizers.splice(u,1);break}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}},t.prototype.canPreventDefault=function(t){if(!this.options.isPreventDefault)return!1;var e,i=!1;if(null!==t.target){var n=this.options.preventDefaultExclude;if(e=n,"[object RegExp]"===N.call(e)){var r=t.target.tagName;void 0!==r&&(i=!n.test(r))}else(function(t){return"[object Function]"===N.call(t)})(n)&&(i=!n(t))}return i},t.prototype.catchEvent=function(t){var e,i;this.canPreventDefault(t)&&t.preventDefault();var r=this.inputManage.load(t);if(void 0!==r){this.emit("input",r),r.isStart&&(this._isStopped=!1);try{for(var o=n(this.recognizers),s=o.next();!s.done;s=o.next()){var a=s.value;if(!a.disabled&&(a.recognize(r),this._isStopped))break}}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}}},t.prototype.on=function(t,e,i){void 0===i&&(i=!1),this.eventEmitter.on(t,e)},t.prototype.off=function(t,e){this.eventEmitter.off(t,e)},t.prototype.emit=function(t,e){this.eventEmitter.emit(t,i({},e,{type:t}))},t.prototype._unbindEl=function(){},t.prototype.destroy=function(){this.$store.destroy(),this.el&&this._unbindEl(),this.eventEmitter.destroy()},t.Tap=K,t.Press=Q,t.Pan=Z,t.Swipe=tt,t.Pinch=et,t.Rotate=it,t.version="0.5.2",t.Vector=M,t.EventEmitter=c,t}()}();
