(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5faec9de"],{"2c4c":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("article",[t._m(0),e("svg",{staticStyle:{width:"100%"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1000",height:"1000"}},[e("g",{attrs:{transform:"translate(100, 100)"}},[t._l(t.linkPaths,(function(n,i){return[n?e("path",{key:i,staticClass:"line",attrs:{d:n}}):t._e()]}))],2),e("g",{attrs:{transform:"translate(100, 100)"}},t._l(t.nodes,(function(n,i){var r;return e("foreignObject",{directives:[{name:"show",rawName:"v-show",value:!n.hidden,expression:"!node.hidden"}],key:"foreignObject"+i,class:(r={},r["at-"+t.action]=t.activeNode===n,r),attrs:{width:t.itemWidth,height:t.itemHeight,x:n.y-t.itemWidth/2,y:n.x-t.itemHeight/2},on:{panstart:function(n){return t.onPanstart(i,n)},panmove:function(n){return t.onPanmove(i,n)},panend:t.onPanend,pancancel:t.onPanend,tap:function(n){return t.onTap(i)}}},[e("body",{attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[e("div",{staticClass:"text"},[e("p",[t._v("节点层级: "+t._s(n.depth))]),e("p",[t._v("节点顺序: "+t._s(i))])])])])})),1)])])},r=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("header",[t._v(" 实现基于 "),e("a",{attrs:{target:"_new",href:"https://github.com/d3/d3"}},[t._v("d3")]),t._v(" / "),e("a",{attrs:{target:"_new",href:"https://github.com/vuejs/vue"}},[t._v("vue")]),t._v(" / "),e("a",{attrs:{target:"_new",href:"https://github.com/any86/any-touch"}},[t._v("any-touch")])])}];e("4160"),e("d81d"),e("fb6a"),e("a434"),e("a9e3"),e("159b");function a(t){if(Array.isArray(t))return t}e("a4d3"),e("e01a"),e("d28b"),e("a630"),e("e260"),e("d3b7"),e("25f0"),e("3ca3"),e("ddb0");function o(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(t){return a(t)||o(t)||h()}function u(t,n){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var e=[],i=!0,r=!1,a=void 0;try{for(var o,h=t[Symbol.iterator]();!(i=(o=h.next()).done);i=!0)if(e.push(o.value),n&&e.length===n)break}catch(s){r=!0,a=s}finally{try{i||null==h["return"]||h["return"]()}finally{if(r)throw a}}return e}}function c(t,n){return a(t)||u(t,n)||h()}function l(t){var n=0,e=t.children,i=e&&e.length;if(i)while(--i>=0)n+=e[i].value;else n=1;t.value=n}var f=function(){return this.eachAfter(l)},d=function(t){var n,e,i,r,a=this,o=[a];do{n=o.reverse(),o=[];while(a=n.pop())if(t(a),e=a.children,e)for(i=0,r=e.length;i<r;++i)o.push(e[i])}while(o.length);return this},p=function(t){var n,e,i=this,r=[i];while(i=r.pop())if(t(i),n=i.children,n)for(e=n.length-1;e>=0;--e)r.push(n[e]);return this},v=function(t){var n,e,i,r=this,a=[r],o=[];while(r=a.pop())if(o.push(r),n=r.children,n)for(e=0,i=n.length;e<i;++e)a.push(n[e]);while(r=o.pop())t(r);return this},_=function(t){return this.eachAfter((function(n){var e=+t(n.data)||0,i=n.children,r=i&&i.length;while(--r>=0)e+=i[r].value;n.value=e}))},y=function(t){return this.eachBefore((function(n){n.children&&n.children.sort(t)}))},g=function(t){var n=this,e=m(n,t),i=[n];while(n!==e)n=n.parent,i.push(n);var r=i.length;while(t!==e)i.splice(r,0,t),t=t.parent;return i};function m(t,n){if(t===n)return t;var e=t.ancestors(),i=n.ancestors(),r=null;t=e.pop(),n=i.pop();while(t===n)r=t,t=e.pop(),n=i.pop();return r}var w=function(){var t=this,n=[t];while(t=t.parent)n.push(t);return n},x=function(){var t=[];return this.each((function(n){t.push(n)})),t},b=function(){var t=[];return this.eachBefore((function(n){n.children||t.push(n)})),t},A=function(){var t=this,n=[];return t.each((function(e){e!==t&&n.push({source:e.parent,target:e})})),n};function z(t,n){var e,i,r,a,o,h=new P(t),s=+t.value&&(h.value=t.value),u=[h];null==n&&(n=N);while(e=u.pop())if(s&&(e.value=+e.data.value),(r=n(e.data))&&(o=r.length))for(e.children=new Array(o),a=o-1;a>=0;--a)u.push(i=e.children[a]=new P(r[a])),i.parent=e,i.depth=e.depth+1;return h.eachBefore(T)}function M(){return z(this).eachBefore(k)}function N(t){return t.children}function k(t){t.data=t.data.data}function T(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function P(t){this.data=t,this.depth=this.height=0,this.parent=null}function S(t,n){return t.parent===n.parent?1:2}function j(t){var n=t.children;return n?n[0]:t.t}function B(t){var n=t.children;return n?n[n.length-1]:t.t}function L(t,n,e){var i=e/(n.i-t.i);n.c-=i,n.s+=e,t.c+=i,n.z+=e,n.m+=e}function O(t){var n,e=0,i=0,r=t.children,a=r.length;while(--a>=0)n=r[a],n.z+=e,n.m+=e,e+=n.s+(i+=n.c)}function C(t,n,e){return t.a.parent===n.parent?t.a:e}function E(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function $(t){var n,e,i,r,a,o=new E(t,0),h=[o];while(n=h.pop())if(i=n._.children)for(n.children=new Array(a=i.length),r=a-1;r>=0;--r)h.push(e=n.children[r]=new E(i[r],r)),e.parent=n;return(o.parent=new E(null,0)).children=[o],o}P.prototype=z.prototype={constructor:P,count:f,each:d,eachAfter:v,eachBefore:p,sum:_,sort:y,path:g,ancestors:w,descendants:x,leaves:b,links:A,copy:M},E.prototype=Object.create(P.prototype);var q=function(){var t=S,n=1,e=1,i=null;function r(r){var h=$(r);if(h.eachAfter(a),h.parent.m=-h.z,h.eachBefore(o),i)r.eachBefore(s);else{var u=r,c=r,l=r;r.eachBefore((function(t){t.x<u.x&&(u=t),t.x>c.x&&(c=t),t.depth>l.depth&&(l=t)}));var f=u===c?1:t(u,c)/2,d=f-u.x,p=n/(c.x+f+d),v=e/(l.depth||1);r.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*v}))}return r}function a(n){var e=n.children,i=n.parent.children,r=n.i?i[n.i-1]:null;if(e){O(n);var a=(e[0].z+e[e.length-1].z)/2;r?(n.z=r.z+t(n._,r._),n.m=n.z-a):n.z=a}else r&&(n.z=r.z+t(n._,r._));n.parent.A=h(n,r,n.parent.A||i[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function h(n,e,i){if(e){var r,a=n,o=n,h=e,s=a.parent.children[0],u=a.m,c=o.m,l=h.m,f=s.m;while(h=B(h),a=j(a),h&&a)s=j(s),o=B(o),o.a=n,r=h.z+l-a.z-u+t(h._,a._),r>0&&(L(C(h,n,i),n,r),u+=r,c+=r),l+=h.m,u+=a.m,f+=s.m,c+=o.m;h&&!B(o)&&(o.t=h,o.m+=l-c),a&&!j(s)&&(s.t=a,s.m+=u-f,i=n)}return i}function s(t){t.x*=n,t.y=t.depth*e}return r.separation=function(n){return arguments.length?(t=n,r):t},r.size=function(t){return arguments.length?(i=!1,n=+t[0],e=+t[1],r):i?null:[n,e]},r.nodeSize=function(t){return arguments.length?(i=!0,n=+t[0],e=+t[1],r):i?[n,e]:null},r},D=Math.PI,H=2*D,W=1e-6,I=H-W;function J(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Z(){return new J}J.prototype=Z.prototype={constructor:J,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,i){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+i)},bezierCurveTo:function(t,n,e,i,r,a){this._+="C"+ +t+","+ +n+","+ +e+","+ +i+","+(this._x1=+r)+","+(this._y1=+a)},arcTo:function(t,n,e,i,r){t=+t,n=+n,e=+e,i=+i,r=+r;var a=this._x1,o=this._y1,h=e-t,s=i-n,u=a-t,c=o-n,l=u*u+c*c;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>W)if(Math.abs(c*h-s*u)>W&&r){var f=e-a,d=i-o,p=h*h+s*s,v=f*f+d*d,_=Math.sqrt(p),y=Math.sqrt(l),g=r*Math.tan((D-Math.acos((p+l-v)/(2*_*y)))/2),m=g/y,w=g/_;Math.abs(m-1)>W&&(this._+="L"+(t+m*u)+","+(n+m*c)),this._+="A"+r+","+r+",0,0,"+ +(c*f>u*d)+","+(this._x1=t+w*h)+","+(this._y1=n+w*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,i,r,a){t=+t,n=+n,e=+e,a=!!a;var o=e*Math.cos(i),h=e*Math.sin(i),s=t+o,u=n+h,c=1^a,l=a?i-r:r-i;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+s+","+u:(Math.abs(this._x1-s)>W||Math.abs(this._y1-u)>W)&&(this._+="L"+s+","+u),e&&(l<0&&(l=l%H+H),l>I?this._+="A"+e+","+e+",0,1,"+c+","+(t-o)+","+(n-h)+"A"+e+","+e+",0,1,"+c+","+(this._x1=s)+","+(this._y1=u):l>W&&(this._+="A"+e+","+e+",0,"+ +(l>=D)+","+c+","+(this._x1=t+e*Math.cos(r))+","+(this._y1=n+e*Math.sin(r))))},rect:function(t,n,e,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +i+"h"+-e+"Z"},toString:function(){return this._}};var F=Z,Q=Array.prototype.slice,R=function(t){return function(){return t}};function X(t){return t[0]}function Y(t){return t[1]}function G(t){return t.source}function K(t){return t.target}function U(t){var n=G,e=K,i=X,r=Y,a=null;function o(){var o,h=Q.call(arguments),s=n.apply(this,h),u=e.apply(this,h);if(a||(a=o=F()),t(a,+i.apply(this,(h[0]=s,h)),+r.apply(this,h),+i.apply(this,(h[0]=u,h)),+r.apply(this,h)),o)return a=null,o+""||null}return o.source=function(t){return arguments.length?(n=t,o):n},o.target=function(t){return arguments.length?(e=t,o):e},o.x=function(t){return arguments.length?(i="function"===typeof t?t:R(+t),o):i},o.y=function(t){return arguments.length?(r="function"===typeof t?t:R(+t),o):r},o.context=function(t){return arguments.length?(a=null==t?null:t,o):a},o}function V(t,n,e,i,r){t.moveTo(n,e),t.bezierCurveTo(n=(n+i)/2,e,n,r,i,r)}function tt(){return U(V)}var nt=e("e02c"),et=e.n(nt),it={name:"顶级",value:99,children:[{name:"第2级",value:21,children:[{name:"第3级A",value:14,children:[{name:"第4级A",value:3938},{name:"第4级B",value:1112}]}]}]};function rt(t,n,e,i){return(t/=i/2)<1?e/2*t*t+n:-e/2*(--t*(t-2)-1)+n}Date.now;function at(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},r=window.performance.now();function a(){var o=window.performance.now()-r,h=rt(o,t,n-t,e);o<=e?(i(h),requestAnimationFrame(a)):i(n,!0)}a()}var ot={name:"Topology",props:{itemWidth:{type:Number,default:160},itemHeight:{type:Number,default:100}},data:function(){return{nodes:[],linkPaths:[],tree:{},activeNode:null,action:""}},mounted:function(){this.renderTree();var t=new et.a(this.$el);this.$on("hook:destroy",t.destroy)},methods:{genTreeData:function(t){var n=1e3,e=z(t);return e.descendants().forEach((function(t){t.hidden=!1})),q().separation((function(t,n){return(t.parent==n.parent?2:1)/t.depth})).nodeSize([110,n/(e.height+1)])(e)},updateNodes:function(){this.nodes=this.tree.descendants()},updateLinks:function(){this.linkPaths=this.tree.links().map((function(t){if(!t.target.hidden)return tt().x((function(t){return t.y})).y((function(t){return t.x}))(t)}))},renderTree:function(){this.tree=this.genTreeData(it),this.updateLinks(),this.updateNodes()},onPanstart:function(t,n){var e=this.nodes.splice(t,1),i=c(e,1),r=i[0];this.nodes.push(r),this.activeNode=r},onPanmove:function(t,n){this.action=n.type;var e=n.deltaX,i=n.deltaY;this.nodes.length;this.activeNode.x+=i,this.activeNode.y+=e,this.updateLinks()},onPanend:function(){this.activeNode=null},onTap:function(t){var n=this;this.activeNode=this.nodes[t],void 0===this.activeNode.collapse?this.$set(this.activeNode,"collapse",!0):this.activeNode.collapse=!this.activeNode.collapse;var e=this.activeNode,i=e.x,r=e.y,a=e.collapse,o=this.activeNode.descendants(),h=s(o),u=(h[0],h.slice(1));u.forEach((function(t){if(a){var e=t.x,o=t.y;t._x=e,t._y=o,at(1,0,200,(function(a,h){t.x=i-(i-e)*a,t.y=r-(r-o)*a,h&&(t.hidden=!0),n.updateLinks()}))}else t.hidden=!1,at(0,1,200,(function(e){t.x=i+(t._x-i)*e,t.y=r+(t._y-r)*e,n.updateLinks()}))}))}}},ht=ot,st=(e("f424"),e("2877")),ut=Object(st["a"])(ht,i,r,!1,null,null,null);n["default"]=ut.exports},"3e76":function(t,n,e){},f424:function(t,n,e){"use strict";var i=e("3e76"),r=e.n(i);r.a},fb6a:function(t,n,e){"use strict";var i=e("23e7"),r=e("861d"),a=e("e8b5"),o=e("23cb"),h=e("50c4"),s=e("fc6a"),u=e("8418"),c=e("b622"),l=e("1dde"),f=e("ae40"),d=l("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),v=c("species"),_=[].slice,y=Math.max;i({target:"Array",proto:!0,forced:!d||!p},{slice:function(t,n){var e,i,c,l=s(this),f=h(l.length),d=o(t,f),p=o(void 0===n?f:n,f);if(a(l)&&(e=l.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)?r(e)&&(e=e[v],null===e&&(e=void 0)):e=void 0,e===Array||void 0===e))return _.call(l,d,p);for(i=new(void 0===e?Array:e)(y(p-d,0)),c=0;d<p;d++,c++)d in l&&u(i,c,l[d]);return i.length=c,i}})}}]);
//# sourceMappingURL=chunk-5faec9de.84eb69b6.js.map