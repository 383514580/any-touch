{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./src/views/DIY.vue?9e0f","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./src/views/loadImage.js","webpack:///../packages/shared/dist/index.es.js","webpack:///../packages/core/dist/index.es.js","webpack:///../packages/recognizer/dist/index.es.js","webpack:///../packages/vector/dist/index.es.js","webpack:///../packages/compute/dist/index.es.js","webpack:///../packages/tap/dist/index.es.js","webpack:///../packages/pan/dist/index.es.js","webpack:///../packages/swipe/dist/index.es.js","webpack:///../packages/press/dist/index.es.js","webpack:///../packages/pinch/dist/index.es.js","webpack:///../packages/rotate/dist/index.es.js","webpack:///../packages/any-touch/dist/index.es.js","webpack:///../packages/photo/dist/index.es.js","webpack:///./src/views/ButtonLoadFile.vue?0630","webpack:///src/views/ButtonLoadFile.vue","webpack:///./src/views/ButtonLoadFile.vue?5ef1","webpack:///./src/views/ButtonLoadFile.vue","webpack:///src/views/DIY.vue","webpack:///./src/views/DIY.vue?9f4a","webpack:///./src/views/DIY.vue","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./src/views/ButtonLoadFile.vue?a552","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///../node_modules/tslib/tslib.es6.js","webpack:///./src/views/DIY.vue?984c","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///../packages/any-event/dist/index.js"],"names":["$","notARegExp","requireObjectCoercible","correctIsRegExpLogic","target","proto","forced","includes","searchString","String","this","indexOf","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","ref","staticStyle","on","$event","photoTouch","zoom","rotate","onImageLoaded","_v","_m","attrs","domProps","offset","moveTo","Number","value","_s","org","changeOrg","scale","zoomTo","angle","rotateTo","staticRenderFns","_arrayWithoutHoles","arr","Array","isArray","i","arr2","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","nonIterableSpread","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","apply","err","cache","url","img","Image","onload","onerror","src","ObjectToString","Object","prototype","toString","isRegExp","input","call","isFunction","CLIENT_X","CLIENT_Y","COMPUTE_INTERVAL","INPUT_START","INPUT_MOVE","INPUT_CANCEL","INPUT_END","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","NONE","TOUCH","MOUSE","TOUCH_START","TOUCH_MOVE","TOUCH_END","TOUCH_CANCEL","MOUSE_UP","MOUSE_MOVE","MOUSE_DOWN","SUPPORT_TOUCH","window","wx","STATUS_POSSIBLE","STATUS_START","STATUS_MOVE","STATUS_END","STATUS_RECOGNIZED","STATUS_FAILED","STATUS_CANCELLED","round2","n","Math","round","default_1","default_1$1","_super","__extends","load","event","el","targets","points","from","touches","forEach","_a","clientX","clientY","contains","push","changedPoints","changedTouches","map","inputType","type","replace","nativeEvent","default_1$2","_this","isPressed","button","prevPoints","default_1$3","Input","adapter","id","transform","prevInput","activeInput","baseInputWithoutId","MAX_SAFE_INTEGER","baseInput","__assign","pureInput","extendInput","isStart","pointLength","startInput","startMultiInput","getCenter","x","y","countPoint","reduce","point","inputBase","isEnd","timestamp","performance","now","currentTarget","getOffset","rect","getBoundingClientRect","left","top","dispatchDomEvent","payload","eventInit","data","__rest","document","createEvent","initEvent","bubbles","cancelable","Event","assign","match","every","dispatchEvent","canPreventDefault","options","isPreventDefault","preventDefaultExclude","tagName","test","TOUCH_EVENT_NAMES","bindElement","callback","eventName","addEventListener","removeEventListener","use","instanceOrClass","Recognizer","name","recognizerMap","instance","recognizers","removeUse","recognizerName","e_1","_b","__values","entries","next","_d","__read","index","recognizer","splice","e_1_1","return","emit2","at","emit","currentTarget_1","AT_AFTER","domEvents","_type","DEFAULT_OPTIONS","AnyTouch","cacheComputedFunctionGroup","create","style","webkitTapHighlightColor","supportsPassive_1","opts","defineProperty","get","catchEvent","bind","passive","preventDefault","AT_TOUCH","AT_TOUCH_WITH_STATUS","cacheComputedGroup","_loop_1","disabled","computedGroup","computeFunctionMap","this_1","recognize","ev","baseType","freeze","beforeEachHook","beforeEach","hook","set","destroy","listenersMap","version","AnyEvent","resetStatus","status","flow","isVaild","activeStatus","_e","_f","_g","STATE_MAP","1","0","recognizeForPressMoveLike","computed","isRecognized","isValidPointLength","compute","Cs","Cs_1","Cs_1_1","C","_id","getVLength","v","sqrt","getDotProduct","v1","v2","getRadian","mr","r","acos","getCross","radianToAngle","radian","PI","getAngle","getDirection","abs","computeAngle","startV","prevV","activeV","deltaAngle","ComputeDeltaXY","deltaX","deltaY","deltaXYAngle","deltaXY","pow","computeDistance","displacementX","displacementY","distanceX","distanceY","distance","overallDirection","computeMaxLength","maxPointLength","computeScale","deltaScale","ComputeVAndDir","direction","_lastValidInput","velocityX","velocityY","speedX","speedY","deltaTime","computeVector","ComputeVectorForMutli","tapTimes","waitNextTapTime","maxDistance","maxDistanceFromPrevTap","maxPressTime","tapCount","_isValidDistanceFromPrevTap","center","prevTapPoint","distanceFromPreviousTap","_isValidInterval","prevTapTime","interval","ComputeMaxLength","ComputeDistance","cancelCountDownToFail","reset","countDownToFail","_countDownToFailTimer","setTimeout","clearTimeout","threshold","velocity","max","minPressTime","resetStatusForPressMoveLike","cancel","_timeoutId","Tap","Pan","Swipe","Press","Pinch","Rotate","width","height","canvasWidth","canvasHeight","imgWidth","imgHeight","offsetInOA","offsetInOB","canvas","context","getContext","overlays","enumerable","configurable","changeOverlay","_i","changeImg","getCenterRectOffsetTopLeft","switchToOB","move","dx","dy","switchToOA","rad","clearRect","drawChessboard","save","translate","drawImage","restore","drawOverlay","cos","sin","count","ceil","size","color","rowStartColor","j","fillStyle","fillRect","stroke","overlay","rate","newHeight","floor","newWidth","moveRate","offsetWidth","_changeOrg","onChange","_t","component","isObject","classof","wellKnownSymbol","MATCH","module","exports","it","extendStatics","d","b","setPrototypeOf","__proto__","p","hasOwnProperty","__","constructor","t","s","e","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","desc","c","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","rejected","result","__generator","body","f","g","_","label","sent","trys","ops","verb","Symbol","iterator","op","pop","__exportStar","m","o","ar","__spread","concat","__spreadArrays","il","k","a","jl","__await","__asyncGenerator","asyncIterator","q","resume","settle","fulfill","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__esModule","default","__importDefault","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","Context","_invoke","makeInvokeMethod","tryCatch","obj","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","method","AsyncIterator","invoke","record","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","iter","keys","object","reverse","skipTempReset","prev","charAt","slice","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","METHOD_NAME","regexp","_iterableToArray","tslib","require","off","findIndex","l"],"mappings":"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","file":"js/chunk-4f62fe28.9b737774.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"p-3\"},[_c('section',{staticClass:\"d-flex pos-r\"},[_c('canvas',{ref:\"canvas\",staticStyle:{\"width\":\"100%\"}}),_c('div',{staticClass:\"pos-a\",staticStyle:{\"width\":\"50px\",\"right\":\"-20px\",\"top\":\"16px\"}},[_c('button',{staticClass:\"a-button a-button--dark ml-1\",staticStyle:{\"background\":\"rgba(0,0,0,0.1)\",\"color\":\"#000\"},on:{\"click\":function($event){return _vm.photoTouch.zoom(-0.1)}}},[_c('i',{staticClass:\"ion-md-remove font-1\"})]),_c('button',{staticClass:\"a-button a-button--dark mt-1\",staticStyle:{\"background\":\"rgba(0,0,0,0.1)\",\"color\":\"#000\"},on:{\"click\":function($event){return _vm.photoTouch.zoom(0.1)}}},[_c('i',{staticClass:\"ion-md-add font-1\"})]),_c('button',{staticClass:\"a-button a-button--dark mt-1\",staticStyle:{\"background\":\"rgba(0,0,0,0.1)\",\"color\":\"#000\"},on:{\"click\":function($event){return _vm.photoTouch.rotate(-10)}}},[_c('i',{staticClass:\"ion-md-refresh rotate-180 d-block font-1\"})]),_c('button',{staticClass:\"a-button a-button--dark mt-1\",staticStyle:{\"background\":\"rgba(0,0,0,0.1)\",\"color\":\"#000\"},on:{\"click\":function($event){return _vm.photoTouch.rotate(10)}}},[_c('i',{staticClass:\"ion-md-refresh font-1\"})])])]),_c('div',{staticClass:\"d-flex mt-1\"},[_c('ButtonLoadFile',{staticClass:\"a-button a-button--dark a-button--outline flex-1\",on:{\"loaded\":_vm.onImageLoaded}},[_vm._v(\"Change Photo\")]),_vm._m(0)],1),_c('section',[_c('hr',{staticClass:\"mt-2\"}),_c('label',{staticClass:\"a-input\"},[_c('input',{attrs:{\"type\":\"range\",\"max\":\"400\"},domProps:{\"value\":_vm.offset[0]},on:{\"input\":function($event){_vm.photoTouch.moveTo(Number($event.target.value),_vm.offset[1])}}}),_vm._v(\" OffsetX: \"+_vm._s(_vm.offset[0])+\" \")]),_c('label',{staticClass:\"a-input\"},[_c('input',{attrs:{\"type\":\"range\",\"max\":\"400\"},domProps:{\"value\":_vm.offset[1]},on:{\"input\":function($event){_vm.photoTouch.moveTo(_vm.offset[0],Number($event.target.value))}}}),_vm._v(\" OffsetY: \"+_vm._s(_vm.offset[1])+\" \")]),_c('hr',{staticClass:\"mt-2\"}),_c('label',{staticClass:\"a-input\"},[_c('input',{attrs:{\"type\":\"range\",\"max\":\"2000\"},domProps:{\"value\":_vm.org[0]},on:{\"input\":function($event){_vm.photoTouch.changeOrg([_vm.org[0],Number($event.target.value)])}}}),_vm._v(\" OX:\"+_vm._s(_vm.org[0])+\" \")]),_c('label',{staticClass:\"a-input\"},[_c('input',{attrs:{\"type\":\"range\",\"max\":\"2000\"},domProps:{\"value\":_vm.org[1]},on:{\"input\":function($event){_vm.photoTouch.changeOrg([Number($event.target.value), _vm.org[1]])}}}),_vm._v(\" OY:\"+_vm._s(_vm.org[1])+\" \")]),_c('label',{staticClass:\"a-input\"},[_c('input',{attrs:{\"min\":\"0.1\",\"max\":\"2\",\"step\":\"0.1\",\"type\":\"range\"},domProps:{\"value\":_vm.scale},on:{\"input\":function($event){_vm.photoTouch.zoomTo(Number($event.target.value))}}}),_vm._v(\" Scale: \"+_vm._s(_vm.scale)+\" \")]),_c('label',{staticClass:\"a-input\"},[_c('input',{attrs:{\"type\":\"range\",\"max\":\"360\"},domProps:{\"value\":_vm.angle},on:{\"input\":function($event){_vm.photoTouch.rotateTo(Number($event.target.value))}}}),_vm._v(\" A:\"+_vm._s(_vm.angle)+\" \")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"a-button a-button--primary  flex-1\"},[_c('i',{staticClass:\"ion-md-checkmark font-1\",staticStyle:{\"vertical-align\":\"sub\"}}),_vm._v(\" Done \")])}]\n\nexport { render, staticRenderFns }","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","const cache = {};\r\nexport default function(url) {\r\n    return new Promise((resolve, reject) => {\r\n        if (cache[url]) {\r\n            resolve(cache[url]);\r\n            return;\r\n        }\r\n\r\n        const img = new Image();\r\n        img.onload = () => {\r\n            cache[url] = img;\r\n            resolve(img);\r\n        };\r\n        img.onerror = reject;\r\n        img.src = url;\r\n    });\r\n}","var ObjectToString = Object.prototype.toString;\r\nfunction isRegExp(input) {\r\n    return '[object RegExp]' === ObjectToString.call(input);\r\n}\r\nfunction isFunction(input) {\r\n    return '[object Function]' === ObjectToString.call(input);\r\n}\n\nvar CLIENT_X = 'clientX';\r\nvar CLIENT_Y = 'clientY';\r\nvar COMPUTE_INTERVAL = 16;\r\nvar INPUT_START = 'start';\r\nvar INPUT_MOVE = 'move';\r\nvar INPUT_CANCEL = 'cancel';\r\nvar INPUT_END = 'end';\r\nvar DIRECTION_LEFT = 'left';\r\nvar DIRECTION_RIGHT = 'right';\r\nvar DIRECTION_UP = 'up';\r\nvar DIRECTION_DOWN = 'down';\r\nvar NONE = 'none';\r\nvar TOUCH = 'touch';\r\nvar MOUSE = 'mouse';\r\nvar TOUCH_START = TOUCH + INPUT_START;\r\nvar TOUCH_MOVE = TOUCH + INPUT_MOVE;\r\nvar TOUCH_END = TOUCH + INPUT_END;\r\nvar TOUCH_CANCEL = TOUCH + INPUT_CANCEL;\r\nvar MOUSE_UP = MOUSE + DIRECTION_UP;\r\nvar MOUSE_MOVE = MOUSE + INPUT_MOVE;\r\nvar MOUSE_DOWN = MOUSE + DIRECTION_DOWN;\r\nvar SUPPORT_TOUCH = window.wx || \"on\" + TOUCH_START in window;\r\nvar STATUS_POSSIBLE = 'p';\r\nvar STATUS_START = INPUT_START;\r\nvar STATUS_MOVE = INPUT_MOVE;\r\nvar STATUS_END = INPUT_END;\r\nvar STATUS_RECOGNIZED = 'r';\r\nvar STATUS_FAILED = 'f';\r\nvar STATUS_CANCELLED = INPUT_CANCEL;\n\nfunction round2(n) {\r\n    return Math.round(n * 100) / 100;\r\n}\n\nexport { CLIENT_X, CLIENT_Y, COMPUTE_INTERVAL, DIRECTION_DOWN, DIRECTION_LEFT, DIRECTION_RIGHT, DIRECTION_UP, INPUT_CANCEL, INPUT_END, INPUT_MOVE, INPUT_START, MOUSE, MOUSE_DOWN, MOUSE_MOVE, MOUSE_UP, NONE, STATUS_CANCELLED, STATUS_END, STATUS_FAILED, STATUS_MOVE, STATUS_POSSIBLE, STATUS_RECOGNIZED, STATUS_START, SUPPORT_TOUCH, TOUCH, TOUCH_CANCEL, TOUCH_END, TOUCH_MOVE, TOUCH_START, isFunction, isRegExp, round2 };\n","import { __extends, __assign, __rest, __values, __read } from 'tslib';\nimport AnyEvent from 'any-event';\nimport { MOUSE_DOWN, MOUSE_MOVE, MOUSE_UP, INPUT_START, INPUT_MOVE, INPUT_END, INPUT_CANCEL, SUPPORT_TOUCH, CLIENT_X, CLIENT_Y, isRegExp, isFunction, TOUCH_START, TOUCH_MOVE, TOUCH_END, TOUCH_CANCEL, TOUCH } from '@any-touch/shared';\n\nvar default_1 = (function () {\r\n    function default_1() {\r\n    }\r\n    return default_1;\r\n}());\n\nvar default_1$1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    default_1.prototype.load = function (event, el) {\r\n        var targets = [];\r\n        var points = [];\r\n        Array.from(event.touches).forEach(function (_a) {\r\n            var clientX = _a.clientX, clientY = _a.clientY, target = _a.target;\r\n            if (el === null || el === void 0 ? void 0 : el.contains(target)) {\r\n                targets.push(target);\r\n                points.push({ clientX: clientX, clientY: clientY, target: target });\r\n            }\r\n        });\r\n        var changedPoints = Array.from(event.changedTouches).map(function (_a) {\r\n            var clientX = _a.clientX, clientY = _a.clientY, target = _a.target;\r\n            return ({ clientX: clientX, clientY: clientY, target: target });\r\n        });\r\n        return {\r\n            inputType: event.type.replace('touch', ''),\r\n            changedPoints: changedPoints,\r\n            points: points,\r\n            nativeEvent: event,\r\n            target: event.target,\r\n            targets: targets\r\n        };\r\n    };\r\n    return default_1;\r\n}(default_1));\n\nvar default_1$2 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1() {\r\n        var _this = _super.call(this) || this;\r\n        _this.target = null;\r\n        _this.isPressed = false;\r\n        return _this;\r\n    }\r\n    default_1.prototype.load = function (event) {\r\n        var clientX = event.clientX, clientY = event.clientY, type = event.type, button = event.button, target = event.target;\r\n        var points = [{ clientX: clientX, clientY: clientY, target: target }];\r\n        var inputType;\r\n        if (MOUSE_DOWN === type && 0 === button) {\r\n            this.target = target;\r\n            this.isPressed = true;\r\n            inputType = INPUT_START;\r\n        }\r\n        else if (this.isPressed) {\r\n            if (MOUSE_MOVE === type) {\r\n                inputType = INPUT_MOVE;\r\n            }\r\n            else if (MOUSE_UP === type) {\r\n                points = [];\r\n                inputType = INPUT_END;\r\n                this.isPressed = false;\r\n            }\r\n        }\r\n        var changedPoints = this.prevPoints || [{ clientX: clientX, clientY: clientY, target: target }];\r\n        this.prevPoints = [{ clientX: clientX, clientY: clientY, target: target }];\r\n        if (void 0 !== inputType) {\r\n            return {\r\n                inputType: inputType,\r\n                changedPoints: changedPoints,\r\n                points: points,\r\n                target: this.target,\r\n                targets: [this.target],\r\n                nativeEvent: event\r\n            };\r\n        }\r\n    };\r\n    return default_1;\r\n}(default_1));\n\nvar default_1$3 = (function () {\r\n    function default_1(el) {\r\n        var Input = SUPPORT_TOUCH ? default_1$1 : default_1$2;\r\n        this.adapter = new Input();\r\n        this.id = 0;\r\n        this.el = el;\r\n    }\r\n    default_1.prototype.transform = function (event) {\r\n        this.prevInput = this.activeInput;\r\n        var baseInputWithoutId = this.adapter.load(event, this.el);\r\n        if (void 0 !== baseInputWithoutId) {\r\n            var id = Number.MAX_SAFE_INTEGER > this.id ? ++this.id : 1;\r\n            var baseInput = __assign(__assign({}, baseInputWithoutId), { id: id });\r\n            var pureInput = extendInput(baseInput);\r\n            this.activeInput = pureInput;\r\n            var isStart = pureInput.isStart, pointLength = pureInput.pointLength;\r\n            if (isStart) {\r\n                this.startInput = pureInput;\r\n                this.prevInput = void 0;\r\n                if (1 < pointLength) {\r\n                    this.startMultiInput = pureInput;\r\n                }\r\n                else {\r\n                    this.startMultiInput = void 0;\r\n                }\r\n            }\r\n            return __assign(__assign({}, pureInput), { prevInput: this.prevInput, startMultiInput: this.startMultiInput, startInput: this.startInput });\r\n        }\r\n    };\r\n    return default_1;\r\n}());\r\nfunction getCenter(points) {\r\n    var length = points.length;\r\n    if (0 < length) {\r\n        if (1 === length) {\r\n            var _a = points[0], clientX = _a.clientX, clientY = _a.clientY;\r\n            return { x: Math.round(clientX), y: Math.round(clientY) };\r\n        }\r\n        var countPoint = points.reduce(function (countPoint, point) {\r\n            countPoint.x += point[CLIENT_X];\r\n            countPoint.y += point[CLIENT_Y];\r\n            return countPoint;\r\n        }, { x: 0, y: 0 });\r\n        return { x: Math.round(countPoint.x / length), y: Math.round(countPoint.y / length) };\r\n    }\r\n}\r\nfunction extendInput(inputBase) {\r\n    var inputType = inputBase.inputType, points = inputBase.points, changedPoints = inputBase.changedPoints, nativeEvent = inputBase.nativeEvent;\r\n    var pointLength = points.length;\r\n    var isStart = INPUT_START === inputType;\r\n    var isEnd = (INPUT_END === inputType && 0 === pointLength) || INPUT_CANCEL === inputType;\r\n    var timestamp = performance.now();\r\n    var _a = getCenter(points) || getCenter(changedPoints), x = _a.x, y = _a.y;\r\n    var currentTarget = nativeEvent.currentTarget;\r\n    return __assign(__assign({}, inputBase), { x: x, y: y,\r\n        timestamp: timestamp,\r\n        isStart: isStart, isEnd: isEnd,\r\n        pointLength: pointLength,\r\n        currentTarget: currentTarget,\r\n        getOffset: function (el) {\r\n            if (el === void 0) { el = currentTarget; }\r\n            var rect = el.getBoundingClientRect();\r\n            return { x: x - Math.round(rect.left), y: y - Math.round(rect.top) };\r\n        } });\r\n}\n\nfunction dispatchDomEvent (el, payload, eventInit) {\r\n    var target = payload.target, currentTarget = payload.currentTarget, type = payload.type, data = __rest(payload, [\"target\", \"currentTarget\", \"type\"]);\r\n    var event;\r\n    if (document.createEvent) {\r\n        event = document.createEvent('HTMLEvents');\r\n        event.initEvent(type, eventInit === null || eventInit === void 0 ? void 0 : eventInit.bubbles, eventInit === null || eventInit === void 0 ? void 0 : eventInit.cancelable);\r\n    }\r\n    else {\r\n        event = new Event(type, eventInit);\r\n    }\r\n    Object.assign(event, data, {\r\n        match: function () {\r\n            return payload.targets.every(function (target) {\r\n                return event.currentTarget.contains(target);\r\n            });\r\n        }\r\n    });\r\n    return el.dispatchEvent(event);\r\n}\n\nfunction canPreventDefault (event, options) {\r\n    if (!options.isPreventDefault)\r\n        return false;\r\n    var isPreventDefault = true;\r\n    if (null !== event.target) {\r\n        var preventDefaultExclude = options.preventDefaultExclude;\r\n        if (isRegExp(preventDefaultExclude)) {\r\n            if ('tagName' in event.target) {\r\n                var tagName = event.target.tagName;\r\n                isPreventDefault = !preventDefaultExclude.test(tagName);\r\n            }\r\n        }\r\n        else if (isFunction(preventDefaultExclude)) {\r\n            isPreventDefault = !preventDefaultExclude(event);\r\n        }\r\n    }\r\n    return isPreventDefault;\r\n}\n\nvar TOUCH_EVENT_NAMES = [TOUCH_START, TOUCH_MOVE, TOUCH_END, TOUCH_CANCEL];\r\nfunction bindElement (el, callback, options) {\r\n    if (SUPPORT_TOUCH) {\r\n        TOUCH_EVENT_NAMES.forEach(function (eventName) {\r\n            el.addEventListener(eventName, callback, options);\r\n        });\r\n        return function () {\r\n            TOUCH_EVENT_NAMES.forEach(function (eventName) {\r\n                el.removeEventListener(eventName, callback);\r\n            });\r\n        };\r\n    }\r\n    else {\r\n        el.addEventListener(MOUSE_DOWN, callback, options);\r\n        window.addEventListener(MOUSE_MOVE, callback, options);\r\n        window.addEventListener(MOUSE_UP, callback, options);\r\n        return function () {\r\n            el.removeEventListener(MOUSE_DOWN, callback);\r\n            window.removeEventListener(MOUSE_MOVE, callback);\r\n            window.removeEventListener(MOUSE_UP, callback);\r\n        };\r\n    }\r\n}\n\nfunction use(instanceOrClass, Recognizer, options) {\r\n    var name = options === null || options === void 0 ? void 0 : options.name;\r\n    if (void 0 !== name && void 0 !== instanceOrClass.recognizerMap[name])\r\n        return;\r\n    var instance = new Recognizer(options);\r\n    instanceOrClass.recognizerMap[instance.name] = instance;\r\n    instance.recognizerMap = instanceOrClass.recognizerMap;\r\n    instanceOrClass.recognizers.push(instanceOrClass.recognizerMap[instance.name]);\r\n}\r\nfunction removeUse(instanceOrClass, recognizerName) {\r\n    var e_1, _a;\r\n    if (void 0 === recognizerName) {\r\n        instanceOrClass.recognizers = [];\r\n        instanceOrClass.recognizerMap = {};\r\n    }\r\n    else {\r\n        try {\r\n            for (var _b = __values(instanceOrClass.recognizers.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                var _d = __read(_c.value, 2), index = _d[0], recognizer = _d[1];\r\n                if (recognizerName === recognizer.options.name) {\r\n                    instanceOrClass.recognizers.splice(index, 1);\r\n                    delete instanceOrClass.recognizerMap[recognizerName];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n    }\r\n}\n\nfunction emit2(at, payload) {\r\n    var type = payload.type, target = payload.target, targets = payload.targets;\r\n    at.emit(type, payload, function (data) {\r\n        if (void 0 !== (data === null || data === void 0 ? void 0 : data.target)) {\r\n            var currentTarget_1 = data.target;\r\n            return targets.every(function (target) { return currentTarget_1.contains(target); });\r\n        }\r\n        return true;\r\n    });\r\n    var AT_AFTER = 'at:after';\r\n    at.emit(AT_AFTER, payload);\r\n    if (!!at.options.domEvents\r\n        && void 0 !== at.el\r\n        && null !== target) {\r\n        dispatchDomEvent(target, payload, at.options.domEvents);\r\n        dispatchDomEvent(target, __assign(__assign({}, payload), { _type: payload.type, type: AT_AFTER }), at.options.domEvents);\r\n    }\r\n}\n\nvar DEFAULT_OPTIONS = {\r\n    domEvents: { bubbles: true, cancelable: true },\r\n    isPreventDefault: true,\r\n    preventDefaultExclude: /^(?:INPUT|TEXTAREA|BUTTON|SELECT)$/\r\n};\r\nvar AnyTouch = (function (_super) {\r\n    __extends(AnyTouch, _super);\r\n    function AnyTouch(el, options) {\r\n        var _this = _super.call(this) || this;\r\n        _this.recognizerMap = {};\r\n        _this.recognizers = [];\r\n        _this.cacheComputedFunctionGroup = Object.create(null);\r\n        _this.el = el;\r\n        _this.input = new default_1$3(el);\r\n        _this.options = __assign(__assign({}, DEFAULT_OPTIONS), options);\r\n        _this.recognizerMap = AnyTouch.recognizerMap;\r\n        _this.recognizers = AnyTouch.recognizers;\r\n        if (void 0 !== el) {\r\n            el.style.webkitTapHighlightColor = 'rgba(0,0,0,0)';\r\n            var supportsPassive_1 = false;\r\n            try {\r\n                var opts = {};\r\n                Object.defineProperty(opts, 'passive', ({\r\n                    get: function () {\r\n                        supportsPassive_1 = true;\r\n                    }\r\n                }));\r\n                window.addEventListener('_', function () { return void 0; }, opts);\r\n            }\r\n            catch (_a) { }\r\n            _this.on('unbind', bindElement(el, _this.catchEvent.bind(_this), !_this.options.isPreventDefault && supportsPassive_1 ? { passive: true } : false));\r\n        }\r\n        return _this;\r\n    }\r\n    AnyTouch.prototype.use = function (Recognizer, options) {\r\n        use(this, Recognizer, options);\r\n    };\r\n    AnyTouch.prototype.removeUse = function (name) {\r\n        removeUse(this, name);\r\n    };\r\n    AnyTouch.prototype.catchEvent = function (event) {\r\n        var e_1, _a;\r\n        var _this = this;\r\n        if (canPreventDefault(event, this.options)) {\r\n            event.preventDefault();\r\n        }\r\n        var input = this.input.transform(event);\r\n        if (void 0 !== input) {\r\n            var AT_TOUCH = \"at:\" + TOUCH;\r\n            var AT_TOUCH_WITH_STATUS = AT_TOUCH + input.inputType;\r\n            this.emit(AT_TOUCH, input);\r\n            this.emit(AT_TOUCH_WITH_STATUS, input);\r\n            var domEvents = this.options.domEvents;\r\n            if (false !== domEvents) {\r\n                var target = event.target;\r\n                if (null !== target) {\r\n                    dispatchDomEvent(target, __assign(__assign({}, input), { type: AT_TOUCH }), domEvents);\r\n                    dispatchDomEvent(target, __assign(__assign({}, input), { type: AT_TOUCH_WITH_STATUS }), domEvents);\r\n                }\r\n            }\r\n            var cacheComputedGroup = Object.create(null);\r\n            var _loop_1 = function (recognizer) {\r\n                if (recognizer.disabled)\r\n                    return \"continue\";\r\n                recognizer.computedGroup = cacheComputedGroup;\r\n                recognizer.computeFunctionMap = this_1.cacheComputedFunctionGroup;\r\n                recognizer.recognize(input, function (type, ev) {\r\n                    var payload = __assign(__assign(__assign({}, input), ev), { type: type, baseType: recognizer.name });\r\n                    Object.freeze(payload);\r\n                    if (void 0 === _this.beforeEachHook) {\r\n                        emit2(_this, payload);\r\n                    }\r\n                    else {\r\n                        _this.beforeEachHook(recognizer, function () {\r\n                            emit2(_this, payload);\r\n                        });\r\n                    }\r\n                });\r\n                cacheComputedGroup = recognizer.computedGroup;\r\n                this_1.cacheComputedFunctionGroup = recognizer.computeFunctionMap;\r\n            };\r\n            var this_1 = this;\r\n            try {\r\n                for (var _b = __values(this.recognizers), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                    var recognizer = _c.value;\r\n                    _loop_1(recognizer);\r\n                }\r\n            }\r\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n            finally {\r\n                try {\r\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n                }\r\n                finally { if (e_1) throw e_1.error; }\r\n            }\r\n        }\r\n    };\r\n    AnyTouch.prototype.beforeEach = function (hook) {\r\n        this.beforeEachHook = hook;\r\n    };\r\n    AnyTouch.prototype.get = function (name) {\r\n        return this.recognizerMap[name];\r\n    };\r\n    AnyTouch.prototype.set = function (options) {\r\n        this.options = __assign(__assign({}, this.options), options);\r\n    };\r\n    AnyTouch.prototype.destroy = function () {\r\n        this.emit('unbind');\r\n        this.listenersMap = {};\r\n    };\r\n    AnyTouch.version = '0.7.7';\r\n    AnyTouch.recognizers = [];\r\n    AnyTouch.recognizerMap = {};\r\n    AnyTouch.use = function (Recognizer, options) {\r\n        use(AnyTouch, Recognizer, options);\r\n    };\r\n    AnyTouch.removeUse = function (recognizerName) {\r\n        removeUse(AnyTouch, recognizerName);\r\n    };\r\n    return AnyTouch;\r\n}(AnyEvent));\n\nexport default AnyTouch;\n","import { __assign, __values } from 'tslib';\nimport { STATUS_END, STATUS_CANCELLED, STATUS_RECOGNIZED, STATUS_FAILED, STATUS_POSSIBLE, STATUS_START, STATUS_MOVE, INPUT_MOVE, INPUT_END, INPUT_CANCEL, INPUT_START } from '@any-touch/shared';\n\nfunction resetStatus (recognizer) {\r\n    if (-1 !== [STATUS_END, STATUS_CANCELLED, STATUS_RECOGNIZED, STATUS_FAILED].indexOf(recognizer.status)) {\r\n        recognizer.status = STATUS_POSSIBLE;\r\n    }\r\n}\n\nfunction flow(isVaild, activeStatus, inputType) {\r\n    var _a, _b, _c, _d, _e, _f, _g;\r\n    var STATE_MAP = {\r\n        1: (_a = {},\r\n            _a[STATUS_POSSIBLE] = (_b = {},\r\n                _b[INPUT_MOVE] = STATUS_START,\r\n                _b),\r\n            _a[STATUS_START] = (_c = {},\r\n                _c[INPUT_MOVE] = STATUS_MOVE,\r\n                _c[INPUT_END] = STATUS_END,\r\n                _c[INPUT_CANCEL] = STATUS_CANCELLED,\r\n                _c),\r\n            _a[STATUS_MOVE] = (_d = {},\r\n                _d[INPUT_MOVE] = STATUS_MOVE,\r\n                _d[INPUT_END] = STATUS_END,\r\n                _d[INPUT_CANCEL] = STATUS_CANCELLED,\r\n                _d),\r\n            _a),\r\n        0: (_e = {},\r\n            _e[STATUS_START] = (_f = {},\r\n                _f[INPUT_MOVE] = STATUS_CANCELLED,\r\n                _f[INPUT_END] = STATUS_END,\r\n                _f[INPUT_CANCEL] = STATUS_CANCELLED,\r\n                _f),\r\n            _e[STATUS_MOVE] = (_g = {},\r\n                _g[INPUT_START] = STATUS_FAILED,\r\n                _g[INPUT_MOVE] = STATUS_CANCELLED,\r\n                _g[INPUT_END] = STATUS_END,\r\n                _g[INPUT_CANCEL] = STATUS_CANCELLED,\r\n                _g),\r\n            _e)\r\n    };\r\n    if (void 0 !== STATE_MAP[Number(isVaild)][activeStatus]) {\r\n        return STATE_MAP[Number(isVaild)][activeStatus][inputType] || activeStatus;\r\n    }\r\n    else {\r\n        return activeStatus;\r\n    }\r\n}\r\nfunction recognizeForPressMoveLike (recognizer, input, emit) {\r\n    var isVaild = recognizer.test(input);\r\n    resetStatus(recognizer);\r\n    var inputType = input.inputType;\r\n    recognizer.status = flow(isVaild, recognizer.status, inputType);\r\n    var computed = recognizer.computed;\r\n    recognizer.isRecognized = [STATUS_START, STATUS_MOVE].includes(recognizer.status);\r\n    var name = recognizer.name, status = recognizer.status, isRecognized = recognizer.isRecognized;\r\n    if (isRecognized) {\r\n        emit(name, computed);\r\n    }\r\n    if (isRecognized || [STATUS_END, STATUS_CANCELLED].includes(recognizer.status)) {\r\n        emit(name + status, computed);\r\n    }\r\n    return isVaild;\r\n}\n\nvar default_1 = (function () {\r\n    function default_1(options) {\r\n        this.disabled = false;\r\n        this.status = STATUS_POSSIBLE;\r\n        this.isRecognized = false;\r\n        this.recognizerMap = {};\r\n        this.computedGroup = {};\r\n        this.computed = {};\r\n        this.computeFunctionMap = {};\r\n        this.options = options;\r\n        this.name = this.options.name;\r\n    }\r\n    default_1.prototype.set = function (options) {\r\n        if (void 0 !== options) {\r\n            this.options = __assign(__assign({}, this.options), options);\r\n        }\r\n        return this;\r\n    };\r\n    default_1.prototype.isValidPointLength = function (pointLength) {\r\n        return 0 === this.options.pointLength || this.options.pointLength === pointLength;\r\n    };\r\n    default_1.prototype.compute = function (Cs, input) {\r\n        var e_1, _a;\r\n        var computed = Object.create(null);\r\n        try {\r\n            for (var Cs_1 = __values(Cs), Cs_1_1 = Cs_1.next(); !Cs_1_1.done; Cs_1_1 = Cs_1.next()) {\r\n                var C = Cs_1_1.value;\r\n                var _id = C._id;\r\n                var _b = this, computedGroup = _b.computedGroup, computeFunctionMap = _b.computeFunctionMap;\r\n                if (void 0 === computeFunctionMap[_id]) {\r\n                    computeFunctionMap[_id] = C();\r\n                }\r\n                computedGroup[_id] = computedGroup[_id] || computeFunctionMap[_id](input);\r\n                for (var key in computedGroup[_id]) {\r\n                    computed[key] = computedGroup[_id][key];\r\n                }\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (Cs_1_1 && !Cs_1_1.done && (_a = Cs_1.return)) _a.call(Cs_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        return computed;\r\n    };\r\n    return default_1;\r\n}());\n\nexport default default_1;\nexport { recognizeForPressMoveLike, resetStatus as resetStatusForPressMoveLike };\n","import { NONE, DIRECTION_RIGHT, DIRECTION_LEFT, DIRECTION_DOWN, DIRECTION_UP } from '@any-touch/shared';\n\nvar getVLength = (function (v) {\r\n    return Math.sqrt(v.x * v.x + v.y * v.y);\r\n});\n\nvar getDotProduct = (function (v1, v2) {\r\n    return v1.x * v2.x + v1.y * v2.y;\r\n});\n\nvar getRadian = (function (v1, v2) {\r\n    var mr = getVLength(v1) * getVLength(v2);\r\n    if (mr === 0)\r\n        return 0;\r\n    var r = getDotProduct(v1, v2) / mr;\r\n    if (r > 1)\r\n        r = 1;\r\n    return Math.acos(r);\r\n});\n\nvar getCross = (function (v1, v2) {\r\n    return v1.x * v2.y - v2.x * v1.y;\r\n});\n\nvar radianToAngle = (function (radian) { return radian / Math.PI * 180; });\n\nvar getAngle = (function (v1, v2) {\r\n    var angle = getRadian(v1, v2);\r\n    if (getCross(v1, v2) > 0) {\r\n        angle *= -1;\r\n    }\r\n    return radianToAngle(angle);\r\n});\n\nvar getDirection = (function (x, y) {\r\n    if (x === y) {\r\n        return NONE;\r\n    }\r\n    else if (Math.abs(x) > Math.abs(y)) {\r\n        return 0 < x ? DIRECTION_RIGHT : DIRECTION_LEFT;\r\n    }\r\n    else {\r\n        return 0 < y ? DIRECTION_DOWN : DIRECTION_UP;\r\n    }\r\n});\n\nexport { getAngle, getCross, getDirection, getDotProduct, getRadian, getVLength, radianToAngle };\n","import { getAngle, radianToAngle, getVLength, getDirection } from '@any-touch/vector';\nimport { INPUT_START, INPUT_MOVE, CLIENT_X, CLIENT_Y, NONE, round2, COMPUTE_INTERVAL } from '@any-touch/shared';\n\nfunction computeAngle (_a) {\r\n    var startV = _a.startV, prevV = _a.prevV, activeV = _a.activeV;\r\n    var deltaAngle = Math.round(getAngle(activeV, prevV));\r\n    var angle = Math.round(getAngle(activeV, startV));\r\n    return { angle: angle, deltaAngle: deltaAngle };\r\n}\n\nfunction ComputeDeltaXY() {\r\n    return function (input) {\r\n        var prevInput = input.prevInput;\r\n        var deltaX = 0;\r\n        var deltaY = 0;\r\n        var deltaXYAngle = 0;\r\n        if (void 0 !== prevInput) {\r\n            deltaX = input.x - prevInput.x;\r\n            deltaY = input.y - prevInput.y;\r\n            if (0 !== deltaX || 0 !== deltaY) {\r\n                var deltaXY = Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\r\n                deltaXYAngle = Math.round(radianToAngle(Math.acos(Math.abs(deltaX) / deltaXY)));\r\n            }\r\n        }\r\n        return { deltaX: deltaX, deltaY: deltaY, deltaXYAngle: deltaXYAngle };\r\n    };\r\n}\r\nComputeDeltaXY._id = \"ComputeDeltaXY\";\n\nfunction computeDistance() {\r\n    var displacementX = 0;\r\n    var displacementY = 0;\r\n    var distanceX = 0;\r\n    var distanceY = 0;\r\n    var distance = 0;\r\n    var overallDirection = NONE;\r\n    return function (input) {\r\n        var inputType = input.inputType, startInput = input.startInput;\r\n        if (INPUT_START === inputType) {\r\n            displacementX = 0;\r\n            displacementY = 0;\r\n            distanceX = 0;\r\n            distanceY = 0;\r\n            distance = 0;\r\n            overallDirection = NONE;\r\n        }\r\n        else if (INPUT_MOVE === inputType) {\r\n            displacementX = Math.round(input.points[0][CLIENT_X] - startInput.points[0][CLIENT_X]);\r\n            displacementY = Math.round(input.points[0][CLIENT_Y] - startInput.points[0][CLIENT_Y]);\r\n            distanceX = Math.abs(displacementX);\r\n            distanceY = Math.abs(displacementY);\r\n            distance = Math.round(getVLength({ x: distanceX, y: distanceY }));\r\n            overallDirection = getDirection(displacementX, displacementY);\r\n        }\r\n        return {\r\n            displacementX: displacementX, displacementY: displacementY, distanceX: distanceX, distanceY: distanceY, distance: distance, overallDirection: overallDirection\r\n        };\r\n    };\r\n}\r\ncomputeDistance._id = \"computeDistance\";\n\nfunction computeMaxLength() {\r\n    var maxPointLength = 0;\r\n    return function (input) {\r\n        var inputType = input.inputType;\r\n        if (INPUT_START === inputType) {\r\n            maxPointLength = input.pointLength;\r\n        }\r\n        return { maxPointLength: maxPointLength };\r\n    };\r\n}\r\ncomputeMaxLength._id = \"computeMaxLength\";\n\nfunction computeScale(_a) {\r\n    var startV = _a.startV, prevV = _a.prevV, activeV = _a.activeV;\r\n    var deltaScale = round2(getVLength(activeV) / getVLength(prevV));\r\n    var scale = round2(getVLength(activeV) / getVLength(startV));\r\n    return { scale: scale, deltaScale: deltaScale };\r\n}\n\nfunction ComputeVAndDir() {\r\n    var velocityX = 0;\r\n    var velocityY = 0;\r\n    var speedX = 0;\r\n    var speedY = 0;\r\n    var direction;\r\n    var _lastValidInput;\r\n    return function (input) {\r\n        if (void 0 !== input) {\r\n            var inputType = input.inputType;\r\n            _lastValidInput = _lastValidInput || input.startInput;\r\n            var deltaTime = input.timestamp - _lastValidInput.timestamp;\r\n            if (INPUT_MOVE === inputType && COMPUTE_INTERVAL < deltaTime) {\r\n                var deltaX = input.x - _lastValidInput.x;\r\n                var deltaY = input.y - _lastValidInput.y;\r\n                speedX = Math.round(deltaX / deltaTime * 100) / 100;\r\n                speedY = Math.round(deltaY / deltaTime * 100) / 100;\r\n                velocityX = Math.abs(speedX);\r\n                velocityY = Math.abs(speedY);\r\n                direction = getDirection(deltaX, deltaY) || (direction);\r\n                _lastValidInput = input;\r\n            }\r\n        }\r\n        return { velocityX: velocityX, velocityY: velocityY, speedX: speedX, speedY: speedY, direction: direction };\r\n    };\r\n}\r\nComputeVAndDir._id = \"ComputeVAndDir\";\n\nfunction computeVector(input) {\r\n    return {\r\n        x: input.points[1][CLIENT_X] - input.points[0][CLIENT_X],\r\n        y: input.points[1][CLIENT_Y] - input.points[0][CLIENT_Y]\r\n    };\r\n}\n\nfunction ComputeVectorForMutli() {\r\n    return function (input) {\r\n        var prevInput = input.prevInput, startMultiInput = input.startMultiInput;\r\n        if (void 0 !== startMultiInput &&\r\n            void 0 !== prevInput &&\r\n            input.id !== startMultiInput.id &&\r\n            1 < prevInput.pointLength &&\r\n            1 < input.pointLength) {\r\n            return {\r\n                startV: computeVector(startMultiInput),\r\n                prevV: computeVector(prevInput),\r\n                activeV: computeVector(input)\r\n            };\r\n        }\r\n    };\r\n}\r\nComputeVectorForMutli._id = \"ComputeVectorForMutli\";\n\nexport { ComputeDeltaXY, computeDistance as ComputeDistance, computeMaxLength as ComputeMaxLength, ComputeVAndDir, ComputeVectorForMutli, computeAngle, computeScale, computeVector };\n","import { __extends, __assign } from 'tslib';\nimport { INPUT_END, STATUS_POSSIBLE, STATUS_RECOGNIZED, STATUS_FAILED } from '@any-touch/shared';\nimport Recognizer from '@any-touch/recognizer';\nimport { getVLength } from '@any-touch/vector';\nimport { ComputeMaxLength, ComputeDistance } from '@any-touch/compute';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'tap',\r\n    pointLength: 1,\r\n    tapTimes: 1,\r\n    waitNextTapTime: 300,\r\n    maxDistance: 2,\r\n    maxDistanceFromPrevTap: 9,\r\n    maxPressTime: 250,\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        var _this = _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n        _this.tapCount = 0;\r\n        return _this;\r\n    }\r\n    default_1.prototype._isValidDistanceFromPrevTap = function (center) {\r\n        if (void 0 !== this.prevTapPoint) {\r\n            var distanceFromPreviousTap = getVLength({ x: center.x - this.prevTapPoint.x, y: center.y - this.prevTapPoint.y });\r\n            this.prevTapPoint = center;\r\n            return this.options.maxDistanceFromPrevTap >= distanceFromPreviousTap;\r\n        }\r\n        else {\r\n            this.prevTapPoint = center;\r\n            return true;\r\n        }\r\n    };\r\n    default_1.prototype._isValidInterval = function () {\r\n        var now = performance.now();\r\n        if (void 0 === this.prevTapTime) {\r\n            this.prevTapTime = now;\r\n            return true;\r\n        }\r\n        else {\r\n            var interval = now - this.prevTapTime;\r\n            this.prevTapTime = now;\r\n            return interval < this.options.waitNextTapTime;\r\n        }\r\n    };\r\n    default_1.prototype.recognize = function (input, emit) {\r\n        var inputType = input.inputType, x = input.x, y = input.y;\r\n        this.computed = this.compute([ComputeMaxLength, ComputeDistance], input);\r\n        if (INPUT_END !== inputType)\r\n            return;\r\n        this.status = STATUS_POSSIBLE;\r\n        if (this.test(input)) {\r\n            this.cancelCountDownToFail();\r\n            if (this._isValidDistanceFromPrevTap({ x: x, y: y }) && this._isValidInterval()) {\r\n                this.tapCount++;\r\n            }\r\n            else {\r\n                this.tapCount = 1;\r\n            }\r\n            if (0 === this.tapCount % this.options.tapTimes) {\r\n                this.status = STATUS_RECOGNIZED;\r\n                emit(this.options.name, __assign(__assign({}, this.computed), { tapCount: this.tapCount }));\r\n                this.reset();\r\n            }\r\n            else {\r\n                this.countDownToFail();\r\n            }\r\n        }\r\n        else {\r\n            this.reset();\r\n            this.status = STATUS_FAILED;\r\n        }\r\n    };\r\n    default_1.prototype.countDownToFail = function () {\r\n        var _this = this;\r\n        this._countDownToFailTimer = setTimeout(function () {\r\n            _this.status = STATUS_FAILED;\r\n            _this.reset();\r\n        }, this.options.waitNextTapTime);\r\n    };\r\n    default_1.prototype.cancelCountDownToFail = function () {\r\n        clearTimeout(this._countDownToFailTimer);\r\n    };\r\n    default_1.prototype.reset = function () {\r\n        this.tapCount = 0;\r\n        this.prevTapPoint = void 0;\r\n        this.prevTapTime = void 0;\r\n    };\r\n    default_1.prototype.test = function (input) {\r\n        var startInput = input.startInput, pointLength = input.pointLength;\r\n        var deltaTime = input.timestamp - startInput.timestamp;\r\n        var _a = this.computed, maxPointLength = _a.maxPointLength, distance = _a.distance;\r\n        return maxPointLength === this.options.pointLength &&\r\n            0 === pointLength &&\r\n            this.options.maxDistance >= distance &&\r\n            this.options.maxPressTime > deltaTime;\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import { __extends, __assign } from 'tslib';\nimport { ComputeVAndDir, ComputeDistance, ComputeDeltaXY } from '@any-touch/compute';\nimport Recognizer, { recognizeForPressMoveLike } from '@any-touch/recognizer';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'pan',\r\n    threshold: 10,\r\n    pointLength: 1\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        return _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n    }\r\n    default_1.prototype.test = function (input) {\r\n        var pointLength = input.pointLength;\r\n        var distance = this.computed.distance;\r\n        return ((this.isRecognized || this.options.threshold <= distance) &&\r\n            this.isValidPointLength(pointLength));\r\n    };\r\n    default_1.prototype.recognize = function (input, emit) {\r\n        this.computed = this.compute([ComputeVAndDir, ComputeDistance, ComputeDeltaXY], input);\r\n        var isRecognized = void 0 !== this.computed.direction && recognizeForPressMoveLike(this, input, emit);\r\n        if (isRecognized) {\r\n            emit(this.options.name + this.computed.direction, this.computed);\r\n        }\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import { __extends, __assign } from 'tslib';\nimport { INPUT_END } from '@any-touch/shared';\nimport { ComputeMaxLength, ComputeVAndDir, ComputeDistance } from '@any-touch/compute';\nimport Recognizer from '@any-touch/recognizer';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'swipe',\r\n    threshold: 10,\r\n    velocity: 0.3,\r\n    pointLength: 1,\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        return _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n    }\r\n    default_1.prototype.test = function (input) {\r\n        var inputType = input.inputType;\r\n        if (INPUT_END !== inputType)\r\n            return false;\r\n        var _a = this.computed, velocityX = _a.velocityX, velocityY = _a.velocityY, maxPointLength = _a.maxPointLength, distance = _a.distance;\r\n        return this.options.pointLength === maxPointLength &&\r\n            this.options.threshold < distance &&\r\n            this.options.velocity < Math.max(velocityX, velocityY);\r\n    };\r\n    default_1.prototype.recognize = function (input, emit) {\r\n        this.computed = this.compute([ComputeMaxLength, ComputeVAndDir, ComputeDistance], input);\r\n        if (this.test(input)) {\r\n            emit(this.options.name, this.computed);\r\n            emit(this.options.name + this.computed.direction, this.computed);\r\n        }\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import { __extends, __assign } from 'tslib';\nimport { INPUT_START, STATUS_RECOGNIZED, INPUT_END, DIRECTION_UP, INPUT_CANCEL, STATUS_FAILED } from '@any-touch/shared';\nimport { ComputeDistance } from '@any-touch/compute';\nimport Recognizer, { resetStatusForPressMoveLike } from '@any-touch/recognizer';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'press',\r\n    pointLength: 1,\r\n    maxDistance: 9,\r\n    minPressTime: 251,\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        return _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n    }\r\n    default_1.prototype.recognize = function (input, emit) {\r\n        var _this = this;\r\n        var inputType = input.inputType, startInput = input.startInput, pointLength = input.pointLength;\r\n        if (INPUT_START === inputType && this.isValidPointLength(pointLength)) {\r\n            resetStatusForPressMoveLike(this);\r\n            this.cancel();\r\n            this._timeoutId = setTimeout(function () {\r\n                _this.status = STATUS_RECOGNIZED;\r\n                emit(_this.options.name, input);\r\n            }, this.options.minPressTime);\r\n        }\r\n        else if (INPUT_END === inputType && STATUS_RECOGNIZED === this.status) {\r\n            emit(\"\" + this.options.name + DIRECTION_UP, this.computed);\r\n        }\r\n        else if (STATUS_RECOGNIZED !== this.status) {\r\n            var deltaTime = input.timestamp - startInput.timestamp;\r\n            if (!this.test(input) ||\r\n                (this.options.minPressTime > deltaTime && [INPUT_END, INPUT_CANCEL].includes(inputType))) {\r\n                this.cancel();\r\n                this.status = STATUS_FAILED;\r\n            }\r\n        }\r\n    };\r\n    default_1.prototype.test = function (input) {\r\n        this.computed = this.compute([ComputeDistance], input);\r\n        var distance = this.computed.distance;\r\n        return this.options.maxDistance > distance;\r\n    };\r\n    default_1.prototype.cancel = function () {\r\n        clearTimeout(this._timeoutId);\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import { __extends, __assign } from 'tslib';\nimport { ComputeVectorForMutli, computeScale } from '@any-touch/compute';\nimport Recognizer, { recognizeForPressMoveLike } from '@any-touch/recognizer';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'pinch',\r\n    threshold: 0,\r\n    pointLength: 2,\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        return _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n    }\r\n    default_1.prototype.test = function (input) {\r\n        var pointLength = input.pointLength;\r\n        var scale = this.computed.scale;\r\n        return this.isValidPointLength(pointLength)\r\n            && void 0 !== scale\r\n            && (this.options.threshold < Math.abs(scale - 1) || this.isRecognized);\r\n    };\r\n    default_1.prototype.recognize = function (input, emit) {\r\n        var computed = this.compute([ComputeVectorForMutli], input);\r\n        if (\"activeV\" in computed) {\r\n            this.computed = __assign(__assign({}, this.computed), computeScale(computed));\r\n        }\r\n        recognizeForPressMoveLike(this, input, emit);\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import { __extends, __assign } from 'tslib';\nimport { ComputeVectorForMutli, computeAngle } from '@any-touch/compute';\nimport Recognizer, { recognizeForPressMoveLike } from '@any-touch/recognizer';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'rotate',\r\n    threshold: 0,\r\n    pointLength: 2,\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        return _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n    }\r\n    default_1.prototype.test = function (input) {\r\n        var pointLength = input.pointLength;\r\n        var angle = this.computed.angle;\r\n        return this.isValidPointLength(pointLength) && (this.options.threshold < Math.abs(angle) || this.isRecognized);\r\n    };\r\n    default_1.prototype.recognize = function (input, emit) {\r\n        var computed = this.compute([ComputeVectorForMutli], input);\r\n        if (\"activeV\" in computed) {\r\n            this.computed = __assign(__assign({}, this.computed), computeAngle(computed));\r\n        }\r\n        recognizeForPressMoveLike(this, input, emit);\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import AnyTouch from '@any-touch/core';\nimport Tap from '@any-touch/tap';\nimport Pan from '@any-touch/pan';\nimport Swipe from '@any-touch/swipe';\nimport Press from '@any-touch/press';\nimport Pinch from '@any-touch/pinch';\nimport Rotate from '@any-touch/rotate';\nimport { STATUS_POSSIBLE, STATUS_START, STATUS_MOVE, STATUS_END, STATUS_CANCELLED, STATUS_FAILED, STATUS_RECOGNIZED } from '@any-touch/shared';\n\nAnyTouch.use(Tap);\r\nAnyTouch.use(Pan);\r\nAnyTouch.use(Swipe);\r\nAnyTouch.use(Press);\r\nAnyTouch.use(Pinch);\r\nAnyTouch.use(Rotate);\r\nAnyTouch.Tap = Tap;\r\nAnyTouch.Pan = Pan;\r\nAnyTouch.Swipe = Swipe;\r\nAnyTouch.Press = Press;\r\nAnyTouch.Pinch = Pinch;\r\nAnyTouch.Rotate = Rotate;\r\nAnyTouch.STATUS_POSSIBLE = STATUS_POSSIBLE;\r\nAnyTouch.STATUS_START = STATUS_START;\r\nAnyTouch.STATUS_MOVE = STATUS_MOVE;\r\nAnyTouch.STATUS_END = STATUS_END;\r\nAnyTouch.STATUS_CANCELLED = STATUS_CANCELLED;\r\nAnyTouch.STATUS_FAILED = STATUS_FAILED;\r\nAnyTouch.STATUS_RECOGNIZED = STATUS_RECOGNIZED;\n\nexport default AnyTouch;\n","import { __extends, __read, __values } from 'tslib';\nimport AnyTouch from 'any-touch';\nimport AnyEvent from 'any-event';\n\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(el, width, height) {\r\n        if (width === void 0) { width = 400; }\r\n        if (height === void 0) { height = 300; }\r\n        var _this = _super.call(this) || this;\r\n        _this.canvasWidth = 0;\r\n        _this.canvasHeight = 0;\r\n        _this.org = [0, 0];\r\n        _this.angle = 0;\r\n        _this.scale = 1;\r\n        _this.imgWidth = 0;\r\n        _this.imgHeight = 0;\r\n        _this.offsetInOA = [0, 0];\r\n        _this.offsetInOB = [0, 0];\r\n        el.width = width;\r\n        el.height = height;\r\n        _this.canvasWidth = width;\r\n        _this.canvasHeight = height;\r\n        _this.canvas = el;\r\n        _this.context = _this.canvas.getContext('2d');\r\n        _this.overlays = [];\r\n        return _this;\r\n    }\r\n    Object.defineProperty(default_1.prototype, \"rad\", {\r\n        get: function () {\r\n            return this.angle * Math.PI / 180;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    default_1.prototype.changeOverlay = function () {\r\n        var overlays = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            overlays[_i] = arguments[_i];\r\n        }\r\n        this.overlays = overlays;\r\n        this.render();\r\n    };\r\n    default_1.prototype.changeImg = function (img) {\r\n        this.img = img;\r\n        this.reset();\r\n    };\r\n    default_1.prototype.reset = function () {\r\n        if (!this.img)\r\n            return;\r\n        this.changeOrg([this.canvasWidth / 2, this.canvasHeight / 2]);\r\n        var _a = this.getCenterRectOffsetTopLeft(this.img.width, this.img.height, this.canvasWidth, this.canvasHeight), top = _a.top, left = _a.left, width = _a.width, height = _a.height;\r\n        this.offsetInOA = [left, top];\r\n        this.scale = 1;\r\n        this.angle = 0;\r\n        this.offsetInOB = this.switchToOB(this.offsetInOA);\r\n        this.imgWidth = width;\r\n        this.imgHeight = height;\r\n        this.render();\r\n    };\r\n    default_1.prototype.changeOrg = function (org) {\r\n        this.org = org;\r\n        this.offsetInOB = this.switchToOB(this.offsetInOA);\r\n        this.render();\r\n    };\r\n    default_1.prototype.move = function (dx, dy) {\r\n        var _a = __read(this.offsetInOA, 2), x = _a[0], y = _a[1];\r\n        this.moveTo(x + dx, y + dy);\r\n        return this.offsetInOA;\r\n    };\r\n    default_1.prototype.moveTo = function (x, y) {\r\n        this.offsetInOA = [x, y];\r\n        this.offsetInOB = this.switchToOB(this.offsetInOA);\r\n        this.render();\r\n    };\r\n    default_1.prototype.rotate = function (deltaAngle) {\r\n        this.angle += deltaAngle;\r\n        this.rotateTo(this.angle);\r\n        return this.angle;\r\n    };\r\n    default_1.prototype.rotateTo = function (angle) {\r\n        this.angle = angle;\r\n        this.offsetInOA = this.switchToOA(this.offsetInOB);\r\n        this.render();\r\n    };\r\n    default_1.prototype.zoom = function (deltaScale) {\r\n        this.scale += deltaScale;\r\n        this.zoomTo(this.scale);\r\n        return this.scale;\r\n    };\r\n    default_1.prototype.zoomTo = function (scale) {\r\n        this.scale = scale;\r\n        this.offsetInOA = this.switchToOA(this.offsetInOB);\r\n        this.render();\r\n    };\r\n    default_1.prototype.render = function () {\r\n        if (null == this.context || !this.img || 0 === this.canvasWidth || 0 === this.canvasHeight)\r\n            return;\r\n        var _a = this, context = _a.context, canvasWidth = _a.canvasWidth, canvasHeight = _a.canvasHeight, org = _a.org, rad = _a.rad, offsetInOB = _a.offsetInOB, scale = _a.scale, img = _a.img, imgWidth = _a.imgWidth, imgHeight = _a.imgHeight;\r\n        context.clearRect(0, 0, canvasWidth, canvasHeight);\r\n        this.drawChessboard(context);\r\n        context.save();\r\n        context.translate(org[0], org[1]);\r\n        context.scale(scale, scale);\r\n        context.rotate(rad);\r\n        context.drawImage(img, 0, 0, img.width, img.height, offsetInOB[0], offsetInOB[1], imgWidth, imgHeight);\r\n        context.restore();\r\n        this.drawOverlay(context);\r\n        this.emit('transform', {\r\n            offset: this.offsetInOA,\r\n            scale: this.scale,\r\n            angle: this.angle,\r\n            org: this.org\r\n        });\r\n    };\r\n    default_1.prototype.switchToOB = function (_a) {\r\n        var _b = __read(_a, 2), x = _b[0], y = _b[1];\r\n        var _c = this, rad = _c.rad, scale = _c.scale, org = _c.org;\r\n        var dx = x - org[0];\r\n        var dy = y - org[1];\r\n        return [\r\n            (Math.cos(rad) * dx + Math.sin(rad) * dy) / scale,\r\n            (-Math.sin(rad) * dx + Math.cos(rad) * dy) / scale,\r\n        ];\r\n    };\r\n    default_1.prototype.switchToOA = function (_a) {\r\n        var _b = __read(_a, 2), x = _b[0], y = _b[1];\r\n        var _c = this, rad = _c.rad, scale = _c.scale, org = _c.org;\r\n        return [\r\n            (Math.cos(rad) * x - Math.sin(rad) * y) * scale + org[0],\r\n            (Math.sin(rad) * x + Math.cos(rad) * y) * scale + org[1],\r\n        ];\r\n    };\r\n    default_1.prototype.drawChessboard = function (context) {\r\n        var count = [24, Math.ceil((24 * this.canvasHeight) / this.canvasWidth)];\r\n        var size = this.canvasWidth / count[0];\r\n        context.save();\r\n        var color = '#ddd';\r\n        var rowStartColor = color;\r\n        for (var i = 0; i <= count[0]; i++) {\r\n            for (var j = 0; j < count[1]; j++) {\r\n                context.fillStyle = color;\r\n                var x = 0 + size * i;\r\n                var y = 0 + size * j;\r\n                context.fillRect(x, y, size, size);\r\n                color = '#ddd' === color ? '#fff' : '#ddd';\r\n            }\r\n            rowStartColor = '#ddd' === color ? '#fff' : '#ddd';\r\n            color = rowStartColor;\r\n        }\r\n        context.stroke();\r\n        context.restore();\r\n    };\r\n    default_1.prototype.drawOverlay = function (context) {\r\n        var e_1, _a;\r\n        if (this.overlays) {\r\n            try {\r\n                for (var _b = __values(this.overlays), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                    var overlay = _c.value;\r\n                    context.drawImage(overlay, 0, 0);\r\n                }\r\n            }\r\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n            finally {\r\n                try {\r\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n                }\r\n                finally { if (e_1) throw e_1.error; }\r\n            }\r\n        }\r\n    };\r\n    default_1.prototype.getCenterRectOffsetTopLeft = function (width, height, canvasWidth, canvasHeight) {\r\n        var rate = [width / canvasWidth, height / canvasHeight];\r\n        if (rate[0] > rate[1]) {\r\n            var newHeight = Math.floor((canvasWidth * height) / width);\r\n            return {\r\n                width: canvasWidth,\r\n                height: newHeight,\r\n                top: (canvasHeight - newHeight) / 2,\r\n                left: 0,\r\n            };\r\n        }\r\n        else {\r\n            var newWidth = Math.floor((canvasHeight * width) / height);\r\n            return {\r\n                width: newWidth,\r\n                height: canvasHeight,\r\n                top: 0,\r\n                left: (canvasWidth - newWidth) / 2,\r\n            };\r\n        }\r\n    };\r\n    return default_1;\r\n}(AnyEvent));\n\nvar default_1$1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(canvas, width, height) {\r\n        var _this = _super.call(this, canvas, width, height) || this;\r\n        _this.moveRate = 1;\r\n        _this.moveRate = canvas.offsetWidth / width;\r\n        var at = new AnyTouch(canvas);\r\n        _this.at = at;\r\n        var _changeOrg = function (_a) {\r\n            var x = _a.x, y = _a.y;\r\n            var _b = _this, moveRate = _b.moveRate, canvas = _b.canvas;\r\n            var rect = canvas.getBoundingClientRect();\r\n            _this.changeOrg([(x - rect.left) / moveRate, (y - rect.top) / moveRate]);\r\n        };\r\n        at.on('tap', _changeOrg);\r\n        at.on('pinchstart', _changeOrg);\r\n        at.on('rotatestart', _changeOrg);\r\n        at.on('panmove', function (_a) {\r\n            var deltaX = _a.deltaX, deltaY = _a.deltaY;\r\n            _this.move(deltaX / _this.moveRate, deltaY / _this.moveRate);\r\n        });\r\n        at.on('pinchmove', function (_a) {\r\n            var deltaScale = _a.deltaScale;\r\n            _this.zoom(deltaScale);\r\n        });\r\n        at.on('rotatemove', function (_a) {\r\n            var deltaAngle = _a.deltaAngle;\r\n            _this.rotate(deltaAngle);\r\n        });\r\n        return _this;\r\n    }\r\n    default_1.prototype.destroy = function () {\r\n        this.at.destroy();\r\n    };\r\n    return default_1;\r\n}(default_1));\n\nexport default default_1$1;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"button-load-file\"},[_c('input',{attrs:{\"type\":\"file\",\"accept\":\"image/*\",\"multiple\":\"\"},on:{\"change\":_vm.onChange}}),_vm._t(\"default\",[_vm._v(\"Upload\")])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <label class=\"button-load-file\">\r\n        <input type=\"file\" accept=\"image/*\" multiple @change=\"onChange\" />\r\n        <slot>Upload</slot>\r\n    </label>\r\n</template>\r\n\r\n<script>\r\n// 114 72\r\nimport AnyTouch from '../../../packages/any-touch/dist/any-touch.umd';\r\nimport loadImage from './loadImage';\r\nexport default {\r\n    name: 'ButtonLoadFile',\r\n\r\n    props: {\r\n        cropSize: {\r\n            type: Array,\r\n            default: () => [426, 269]\r\n        }\r\n    },\r\n\r\n    computed: {\r\n        // 目标裁剪比例\r\n        cropRate() {\r\n            return this.cropSize[0] / this.cropSize[1];\r\n        }\r\n    },\r\n\r\n    data() {\r\n        return { url: '' };\r\n    },\r\n\r\n    methods: {\r\n        readFile(file) {\r\n            return new Promise((resolve, reject) => {\r\n                const reader = new FileReader();\r\n                reader.readAsDataURL(file);\r\n                reader.onload = async (e) => {\r\n                    const img = await loadImage(e.target.result);\r\n                    const { width, height } = img;\r\n                    const crop = this.crop(img);\r\n                    resolve({ source: { url: e.target.result, img, width, height }, crop });\r\n                };\r\n\r\n                reader.onerror = reject;\r\n            });\r\n        },\r\n\r\n        async onChange(e) {\r\n            const { target } = e;\r\n            const { files } = target;\r\n            const array = Array.from(files);\r\n            if (0 < array.length) {\r\n                const data = await Promise.all(array.map(async (file) => this.readFile(file)));\r\n                this.$emit('loaded', data);\r\n            } else {\r\n                this.$emit('reset');\r\n            }\r\n        },\r\n\r\n        crop(img) {\r\n            const el = document.createElement('canvas');\r\n            const context = el.getContext('2d');\r\n            const { width, height } = img;\r\n\r\n            const rate = width / height;\r\n            // 从元素选取的起点和宽高\r\n            let sourceWidth = width;\r\n            let sourceHeight = height;\r\n            let sourceY = 0;\r\n            let sourceX = 0;\r\n            let cropAxis = 'x';\r\n            // 以宽度为基准, 裁剪高度\r\n            if (this.cropRate > rate) {\r\n                cropAxis = 'y';\r\n                sourceHeight = sourceWidth / this.cropRate;\r\n                sourceY = (height - sourceHeight) / 2;\r\n            }\r\n            // 以高度为基准, 裁剪宽度\r\n            else {\r\n                sourceWidth = sourceHeight * this.cropRate;\r\n                sourceX = (width - sourceWidth) / 2;\r\n            }\r\n            // console.clear();\r\n            // console.log({ sourceX, sourceY, sourceWidth, sourceHeight }, width, height);\r\n            el.width = this.cropSize[0];\r\n            el.height = this.cropSize[1];\r\n            const args = [img, sourceX, sourceY, sourceWidth, sourceHeight, 0, 0, this.cropSize[0], this.cropSize[1]];\r\n            context.drawImage(...args);\r\n            const url = el.toDataURL();\r\n            return {\r\n                url,\r\n                x: sourceX,\r\n                y: sourceY,\r\n                width: sourceWidth,\r\n                height: sourceHeight,\r\n                cropAxis,\r\n                cropRate: this.cropRate,\r\n                args\r\n            };\r\n            // console.log(dataURL);\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scope lang=\"scss\">\r\n.button-load-file {\r\n    padding: 16px 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    text-align: center;\r\n    box-sizing: border-box;\r\n    background: rgb(15, 147, 208);\r\n    color: #fff;\r\n    display: inline-block;\r\n    &:hover {\r\n        cursor: pointer;\r\n    }\r\n    > input[type='file'] {\r\n        display: none;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ButtonLoadFile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ButtonLoadFile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ButtonLoadFile.vue?vue&type=template&id=0dda7607&\"\nimport script from \"./ButtonLoadFile.vue?vue&type=script&lang=js&\"\nexport * from \"./ButtonLoadFile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ButtonLoadFile.vue?vue&type=style&index=0&scope=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <article class=\"p-3\">\r\n        <section class=\"d-flex pos-r\">\r\n            <canvas ref=\"canvas\" style=\"width:100%;\"></canvas>\r\n            <div class=\"pos-a\" style=\"width:50px; right:-20px;top:16px;\">\r\n                <button class=\"a-button a-button--dark ml-1\" style=\"background:rgba(0,0,0,0.1); color:#000;\" @click=\"photoTouch.zoom(-0.1)\">\r\n                    <i class=\"ion-md-remove font-1\"></i>\r\n                </button>\r\n                <button class=\"a-button a-button--dark mt-1\"  style=\"background:rgba(0,0,0,0.1); color:#000;\" @click=\"photoTouch.zoom(0.1)\">\r\n                    <i class=\"ion-md-add font-1\"></i>\r\n                </button>\r\n\r\n                <button class=\"a-button a-button--dark mt-1\" style=\"background:rgba(0,0,0,0.1); color:#000;\" @click=\"photoTouch.rotate(-10)\">\r\n                <i class=\"ion-md-refresh rotate-180 d-block font-1\"></i>\r\n                </button>\r\n                <button class=\"a-button a-button--dark mt-1\" style=\"background:rgba(0,0,0,0.1); color:#000;\" @click=\"photoTouch.rotate(10)\">\r\n                    <i class=\"ion-md-refresh font-1\"></i>\r\n                </button>\r\n            </div>\r\n        </section>\r\n\r\n        <div class=\"d-flex mt-1\">\r\n            <ButtonLoadFile\r\n                class=\"a-button a-button--dark a-button--outline flex-1\"\r\n                @loaded=\"onImageLoaded\"\r\n            >Change Photo</ButtonLoadFile>\r\n\r\n            <button class=\"a-button a-button--primary  flex-1\">\r\n                <i class=\"ion-md-checkmark font-1\" style=\"vertical-align: sub;\"></i> Done\r\n            </button>\r\n        </div>\r\n\r\n        <section>\r\n            <hr class=\"mt-2\" />\r\n            <!-- Offset -->\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"offset[0]\"\r\n                    @input=\"photoTouch.moveTo(Number($event.target.value),offset[1])\"\r\n                    type=\"range\"\r\n                    max=\"400\"\r\n                />\r\n                OffsetX: {{offset[0]}}\r\n            </label>\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"offset[1]\"\r\n                    @input=\"photoTouch.moveTo(offset[0],Number($event.target.value))\"\r\n                    type=\"range\"\r\n                    max=\"400\"\r\n                />\r\n                OffsetY: {{offset[1]}}\r\n            </label>\r\n            <hr class=\"mt-2\" />\r\n\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"org[0]\"\r\n                    @input=\"photoTouch.changeOrg([org[0],Number($event.target.value)])\"\r\n                    type=\"range\"\r\n                    max=\"2000\"\r\n                />\r\n                OX:{{org[0]}}\r\n            </label>\r\n\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"org[1]\"\r\n                    @input=\"photoTouch.changeOrg([Number($event.target.value), org[1]])\"\r\n                    type=\"range\"\r\n                    max=\"2000\"\r\n                />\r\n                OY:{{org[1]}}\r\n            </label>\r\n\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"scale\"\r\n                    @input=\"photoTouch.zoomTo(Number($event.target.value))\"\r\n                    min=\"0.1\"\r\n                    max=\"2\"\r\n                    step=\"0.1\"\r\n                    type=\"range\"\r\n                />\r\n                Scale: {{scale}}\r\n            </label>\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"angle\"\r\n                    @input=\"photoTouch.rotateTo(Number($event.target.value))\"\r\n                    type=\"range\"\r\n                    max=\"360\"\r\n                />\r\n                A:{{angle}}\r\n            </label>\r\n        </section>\r\n    </article>\r\n</template>\r\n\r\n<script>\r\nimport loadImage from './loadImage';\r\nimport PhotoTouch from '../../../packages/photo/dist/index.es';\r\nimport ButtonLoadFile from './ButtonLoadFile';\r\nexport default {\r\n    name: 'DIY',\r\n\r\n    components: { ButtonLoadFile },\r\n\r\n    data() {\r\n        return {\r\n            photoTouch: null,\r\n            overlayImgs: [],\r\n            activeOverlay: {},\r\n            img: null,\r\n            org: [1432 / 2, 2216 / 2],\r\n            angle: 0,\r\n            scale: 1,\r\n            offset: [0, 0],\r\n            width: 1432,\r\n            height: 2216,\r\n            overlays: [\r\n                [\r\n                    'https://cdn.shopifycdn.net/s/files/1/0276/2922/4000/files/iPhone.png?v=1596445086',\r\n                    'https://cdn.shopifycdn.net/s/files/1/0276/2922/4000/files/b059942a7321575b31567fab557b7626.png?v=1596445098',\r\n                ],\r\n                [\r\n                    'https://cdn.shopifycdn.net/s/files/1/0276/2922/4000/files/01aee27d-3488-4e2f-9a8f-97a96928016d.png?v=1596503919',\r\n                ],\r\n            ],\r\n        };\r\n    },\r\n\r\n    async mounted() {\r\n        this.photoTouch = new PhotoTouch(this.$refs.canvas, this.width, this.height);\r\n        this.photoTouch.on('transform', ({ offset, scale, angle, org }) => {\r\n            this.offset = offset;\r\n            this.scale = scale;\r\n            this.angle = angle;\r\n            this.org = org;\r\n        });\r\n\r\n        const imgs = await this.loadImgs(this.overlays[0]);\r\n        this.photoTouch.changeOverlay(...imgs);\r\n    },\r\n\r\n    methods: {\r\n        loadImgs(urls) {\r\n            const p = [];\r\n            for (const url of urls) {\r\n                p.push(loadImage(url));\r\n            }\r\n            return Promise.all(p);\r\n        },\r\n\r\n        onImageLoaded(e) {\r\n            const { img } = e[0].source;\r\n            this.img = img;\r\n            this.photoTouch.changeImg(img);\r\n        },\r\n\r\n        reset() {\r\n            this.photoTouch.reset();\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scope lang=\"scss\">\r\ncanvas{\r\n    cursor: move;\r\n}\r\nlabel {\r\n    display: block;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DIY.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DIY.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DIY.vue?vue&type=template&id=ac4f7b6a&\"\nimport script from \"./DIY.vue?vue&type=script&lang=js&\"\nexport * from \"./DIY.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DIY.vue?vue&type=style&index=0&scope=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ButtonLoadFile.vue?vue&type=style&index=0&scope=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ButtonLoadFile.vue?vue&type=style&index=0&scope=true&lang=scss&\"","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DIY.vue?vue&type=style&index=0&scope=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DIY.vue?vue&type=style&index=0&scope=true&lang=scss&\"","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var tslib=require(\"tslib\"),default_1=function(){function t(){this.listenersMap={}}return t.prototype.target=function(t){var e=this;return{on:function(r,i){e.on(r,i,{target:t})}}},t.prototype.on=function(t,e,r){var i=(void 0===r?{}:r).target;void 0===this.listenersMap[t]&&(this.listenersMap[t]=[]),void 0!==i&&(e.target=i),this.listenersMap[t].push(e)},t.prototype.off=function(t,e){var r=this.listenersMap[t];if(void 0!==r)if(void 0===e)delete this.listenersMap[t];else{var i=r.findIndex((function(t){return t===e}));r.splice(i,1)}},t.prototype.emit=function(t,e,r){var i,n;void 0===r&&(r=function(){return!0});var o=this.listenersMap[t];if(void 0!==o&&0<o.length)try{for(var s=tslib.__values(o),a=s.next();!a.done;a=s.next()){var l=a.value;r({target:l.target})&&l(e)}}catch(t){i={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}},t.prototype.destroy=function(){this.listenersMap={}},t}();exports.default=default_1;\n"],"sourceRoot":""}