(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29452917"],{2532:function(t,e,n){"use strict";var r=n("23e7"),o=n("5a34"),i=n("1d80"),a=n("ab13");r({target:"String",proto:!0,forced:!a("includes")},{includes:function(t){return!!~String(i(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},"35bd":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",{staticClass:"p-3"},[n("section",{staticClass:"d-flex pos-r"},[n("canvas",{ref:"canvas",staticStyle:{width:"100%"}}),n("div",{staticClass:"pos-a",staticStyle:{width:"50px",right:"-20px",top:"16px"}},[n("button",{staticClass:"a-button a-button--dark ml-1",staticStyle:{background:"rgba(0, 0, 0, 0.6)",color:"#fff"},on:{click:function(e){return t.photoTouch.zoom(.9)}}},[n("i",{staticClass:"ion-md-remove font-1"})]),n("button",{staticClass:"a-button a-button--dark mt-1",staticStyle:{background:"rgba(0, 0, 0, 0.6)",color:"#fff"},on:{click:function(e){return t.photoTouch.zoom(1.1)}}},[n("i",{staticClass:"ion-md-add font-1"})]),n("button",{staticClass:"a-button a-button--dark mt-1",staticStyle:{background:"rgba(0, 0, 0, 0.6)",color:"#fff"},on:{click:function(e){return t.photoTouch.rotate(90)}}},[n("i",{staticClass:"ion-md-refresh font-1"})]),n("button",{staticClass:"a-button a-button--dark mt-1",staticStyle:{background:"rgba(0, 0, 0, 0.6)",color:"#fff"},on:{click:t.togglePreview}},[n("i",{staticClass:"font-1",class:["ion-md-eye"+(t.isShowLine?"":"-off")]})])])]),n("div",{staticClass:"d-flex mt-1"},[n("ButtonLoadFile",{staticClass:"a-button a-button--dark a-button--outline flex-1",on:{loaded:t.onImageLoaded}},[t._v("Change Photo")]),t._m(0)],1),n("section",[n("hr",{staticClass:"mt-2"}),n("label",{staticClass:"a-input"},[n("input",{attrs:{type:"range",max:"400"},domProps:{value:t.offset[0]},on:{input:function(e){t.photoTouch.moveTo(Number(e.target.value),t.offset[1])}}}),t._v(" OffsetX: "+t._s(t.offset[0])+" ")]),n("label",{staticClass:"a-input"},[n("input",{attrs:{type:"range",max:"400"},domProps:{value:t.offset[1]},on:{input:function(e){t.photoTouch.moveTo(t.offset[0],Number(e.target.value))}}}),t._v(" OffsetY: "+t._s(t.offset[1])+" ")]),n("hr",{staticClass:"mt-2"}),n("label",{staticClass:"a-input"},[n("input",{attrs:{type:"range",max:"2000"},domProps:{value:t.org[0]},on:{input:function(e){t.photoTouch.changeOrg([t.org[0],Number(e.target.value)])}}}),t._v(" OX:"+t._s(t.org[0])+" ")]),n("label",{staticClass:"a-input"},[n("input",{attrs:{type:"range",max:"2000"},domProps:{value:t.org[1]},on:{input:function(e){t.photoTouch.changeOrg([Number(e.target.value),t.org[1]])}}}),t._v(" OY:"+t._s(t.org[1])+" ")]),n("label",{staticClass:"a-input"},[n("input",{attrs:{min:"0.1",max:"2",step:"0.1",type:"range"},domProps:{value:t.scale},on:{input:function(e){t.photoTouch.zoomTo(Number(e.target.value))}}}),t._v(" Scale: "+t._s(t.scale)+" ")]),n("label",{staticClass:"a-input"},[n("input",{attrs:{type:"range",max:"360"},domProps:{value:t.angle},on:{input:function(e){t.photoTouch.rotateTo(Number(e.target.value))}}}),t._v(" A:"+t._s(t.angle)+" ")])])])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"a-button a-button--primary flex-1"},[n("i",{staticClass:"ion-md-checkmark font-1",staticStyle:{"vertical-align":"sub"}}),t._v(" Done ")])}];n("96cf"),n("d3b7"),n("e6cf");function i(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function s(t){i(a,r,o,s,c,"next",t)}function c(t){i(a,r,o,s,c,"throw",t)}s(void 0)}))}}function s(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var c=n("db90");function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function h(t){return s(t)||Object(c["a"])(t)||u()}n("25f0");var f=n("9cf4"),p=(n("a623"),n("4160"),n("a630"),n("d81d"),n("13d5"),n("a434"),n("b0c0"),n("a9e3"),n("aff5"),n("dca8"),n("ac1f"),n("3ca3"),n("5319"),n("159b"),n("ddb0"),n("f9e0")),l=n.n(p),d=Object.prototype.toString;function v(t){return"[object RegExp]"===d.call(t)}function g(t){return"[object Function]"===d.call(t)}var m="clientX",y="clientY",b=16,_="start",w="move",O="cancel",T="end",x="left",j="right",L="up",E="down",P="none",S="touch",M="mouse",I=S+_,C=S+w,k=S+T,R=S+O,A=M+L,z=M+w,F=M+E,D=window.wx||"on"+I in window,N="p",B=_,V=w,Y=T,X="r",G="f",H=O;function U(t){return Math.round(100*t)/100}var W=function(){function t(){}return t}(),$=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f["__extends"])(e,t),e.prototype.load=function(t,e){var n=[],r=[];Array.from(t.touches).forEach((function(t){var o=t.clientX,i=t.clientY,a=t.target;(null===e||void 0===e?void 0:e.contains(a))&&(n.push(a),r.push({clientX:o,clientY:i,target:a}))}));var o=Array.from(t.changedTouches).map((function(t){var e=t.clientX,n=t.clientY,r=t.target;return{clientX:e,clientY:n,target:r}}));return{inputType:t.type.replace("touch",""),changedPoints:o,points:r,nativeEvent:t,target:t.target,targets:n}},e}(W),q=function(t){function e(){var e=t.call(this)||this;return e.target=null,e.isPressed=!1,e}return Object(f["__extends"])(e,t),e.prototype.load=function(t){var e,n=t.clientX,r=t.clientY,o=t.type,i=t.button,a=t.target,s=[{clientX:n,clientY:r,target:a}];F===o&&0===i?(this.target=a,this.isPressed=!0,e=_):this.isPressed&&(z===o?e=w:A===o&&(s=[],e=T,this.isPressed=!1));var c=this.prevPoints||[{clientX:n,clientY:r,target:a}];if(this.prevPoints=[{clientX:n,clientY:r,target:a}],void 0!==e)return{inputType:e,changedPoints:c,points:s,target:this.target,targets:[this.target],nativeEvent:t}},e}(W),J=function(){function t(t){var e=D?$:q;this.adapter=new e,this.id=0,this.el=t}return t.prototype.transform=function(t){this.prevInput=this.activeInput;var e=this.adapter.load(t,this.el);if(void 0!==e){var n=Number.MAX_SAFE_INTEGER>this.id?++this.id:1,r=Object(f["__assign"])(Object(f["__assign"])({},e),{id:n}),o=K(r);this.activeInput=o;var i=o.isStart,a=o.pointLength;return i&&(this.startInput=o,this.prevInput=void 0,this.startMultiInput=1<a?o:void 0),Object(f["__assign"])(Object(f["__assign"])({},o),{prevInput:this.prevInput,startMultiInput:this.startMultiInput,startInput:this.startInput})}},t}();function Z(t){var e=t.length;if(0<e){if(1===e){var n=t[0],r=n.clientX,o=n.clientY;return{x:Math.round(r),y:Math.round(o)}}var i=t.reduce((function(t,e){return t.x+=e[m],t.y+=e[y],t}),{x:0,y:0});return{x:Math.round(i.x/e),y:Math.round(i.y/e)}}}function K(t){var e=t.inputType,n=t.points,r=t.changedPoints,o=t.nativeEvent,i=n.length,a=_===e,s=T===e&&0===i||O===e,c=performance.now(),u=Z(n)||Z(r),h=u.x,p=u.y,l=o.currentTarget;return Object(f["__assign"])(Object(f["__assign"])({},t),{x:h,y:p,timestamp:c,isStart:a,isEnd:s,pointLength:i,currentTarget:l,getOffset:function(t){void 0===t&&(t=l);var e=t.getBoundingClientRect();return{x:h-Math.round(e.left),y:p-Math.round(e.top)}}})}function Q(t,e,n){e.target,e.currentTarget;var r,o=e.type,i=Object(f["__rest"])(e,["target","currentTarget","type"]);return document.createEvent?(r=document.createEvent("HTMLEvents"),r.initEvent(o,null===n||void 0===n?void 0:n.bubbles,null===n||void 0===n?void 0:n.cancelable)):r=new Event(o,n),Object.assign(r,i,{match:function(){return e.targets.every((function(t){return r.currentTarget.contains(t)}))}}),t.dispatchEvent(r)}function tt(t,e){if(!e.isPreventDefault)return!1;var n=!0;if(null!==t.target){var r=e.preventDefaultExclude;if(v(r)){if("tagName"in t.target){var o=t.target.tagName;n=!r.test(o)}}else g(r)&&(n=!r(t))}return n}var et=[I,C,k,R];function nt(t,e,n){return D?(et.forEach((function(r){t.addEventListener(r,e,n)})),function(){et.forEach((function(n){t.removeEventListener(n,e)}))}):(t.addEventListener(F,e,n),window.addEventListener(z,e,n),window.addEventListener(A,e,n),function(){t.removeEventListener(F,e),window.removeEventListener(z,e),window.removeEventListener(A,e)})}function rt(t,e,n){var r=null===n||void 0===n?void 0:n.name;if(void 0===r||void 0===t.recognizerMap[r]){var o=new e(n);t.recognizerMap[o.name]=o,o.recognizerMap=t.recognizerMap,t.recognizers.push(t.recognizerMap[o.name])}}function ot(t,e){var n,r;if(void 0===e)t.recognizers=[],t.recognizerMap={};else try{for(var o=Object(f["__values"])(t.recognizers.entries()),i=o.next();!i.done;i=o.next()){var a=Object(f["__read"])(i.value,2),s=a[0],c=a[1];if(e===c.options.name){t.recognizers.splice(s,1),delete t.recognizerMap[e];break}}}catch(u){n={error:u}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function it(t,e){var n=e.type,r=e.target,o=e.targets;t.emit(n,e,(function(t){if(void 0!==(null===t||void 0===t?void 0:t.target)){var e=t.target;return o.every((function(t){return e.contains(t)}))}return!0}));var i="at:after";t.emit(i,e),t.options.domEvents&&void 0!==t.el&&null!==r&&(Q(r,e,t.options.domEvents),Q(r,Object(f["__assign"])(Object(f["__assign"])({},e),{_type:e.type,type:i}),t.options.domEvents))}var at={domEvents:{bubbles:!0,cancelable:!0},isPreventDefault:!0,preventDefaultExclude:/^(?:INPUT|TEXTAREA|BUTTON|SELECT)$/},st=function(t){function e(n,r){var o=t.call(this)||this;if(o.recognizerMap={},o.recognizers=[],o.cacheComputedFunctionGroup=Object.create(null),o.el=n,o.input=new J(n),o.options=Object(f["__assign"])(Object(f["__assign"])({},at),r),o.recognizerMap=e.recognizerMap,o.recognizers=e.recognizers,void 0!==n){n.style.webkitTapHighlightColor="rgba(0,0,0,0)";var i=!1;try{var a={};Object.defineProperty(a,"passive",{get:function(){i=!0}}),window.addEventListener("_",(function(){}),a)}catch(s){}o.on("unbind",nt(n,o.catchEvent.bind(o),!(o.options.isPreventDefault||!i)&&{passive:!0}))}return o}return Object(f["__extends"])(e,t),e.prototype.use=function(t,e){rt(this,t,e)},e.prototype.removeUse=function(t){ot(this,t)},e.prototype.catchEvent=function(t){var e,n,r=this;tt(t,this.options)&&t.preventDefault();var o=this.input.transform(t);if(void 0!==o){var i="at:"+S,a=i+o.inputType;this.emit(i,o),this.emit(a,o);var s=this.options.domEvents;if(!1!==s){var c=t.target;null!==c&&(Q(c,Object(f["__assign"])(Object(f["__assign"])({},o),{type:i}),s),Q(c,Object(f["__assign"])(Object(f["__assign"])({},o),{type:a}),s))}var u=Object.create(null),h=function(t){if(t.disabled)return"continue";t.computedGroup=u,t.computeFunctionMap=p.cacheComputedFunctionGroup,t.recognize(o,(function(e,n){var i=Object(f["__assign"])(Object(f["__assign"])(Object(f["__assign"])({},o),n),{type:e,baseType:t.name});Object.freeze(i),void 0===r.beforeEachHook?it(r,i):r.beforeEachHook(t,(function(){it(r,i)}))})),u=t.computedGroup,p.cacheComputedFunctionGroup=t.computeFunctionMap},p=this;try{for(var l=Object(f["__values"])(this.recognizers),d=l.next();!d.done;d=l.next()){var v=d.value;h(v)}}catch(g){e={error:g}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}}},e.prototype.beforeEach=function(t){this.beforeEachHook=t},e.prototype.get=function(t){return this.recognizerMap[t]},e.prototype.set=function(t){this.options=Object(f["__assign"])(Object(f["__assign"])({},this.options),t)},e.prototype.destroy=function(){this.emit("unbind"),this.listenersMap={}},e.version="0.7.7",e.recognizers=[],e.recognizerMap={},e.use=function(t,n){rt(e,t,n)},e.removeUse=function(t){ot(e,t)},e}(l.a),ct=st;n("caad"),n("c975"),n("2532");function ut(t){-1!==[Y,H,X,G].indexOf(t.status)&&(t.status=N)}function ht(t,e,n){var r,o,i,a,s,c,u,h={1:(r={},r[N]=(o={},o[w]=B,o),r[B]=(i={},i[w]=V,i[T]=Y,i[O]=H,i),r[V]=(a={},a[w]=V,a[T]=Y,a[O]=H,a),r),0:(s={},s[B]=(c={},c[w]=H,c[T]=Y,c[O]=H,c),s[V]=(u={},u[_]=G,u[w]=H,u[T]=Y,u[O]=H,u),s)};return void 0!==h[Number(t)][e]&&h[Number(t)][e][n]||e}function ft(t,e,n){var r=t.test(e);ut(t);var o=e.inputType;t.status=ht(r,t.status,o);var i=t.computed;t.isRecognized=[B,V].includes(t.status);var a=t.name,s=t.status,c=t.isRecognized;return c&&n(a,i),(c||[Y,H].includes(t.status))&&n(a+s,i),r}var pt=function(){function t(t){this.disabled=!1,this.status=N,this.isRecognized=!1,this.recognizerMap={},this.computedGroup={},this.computed={},this.computeFunctionMap={},this.options=t,this.name=this.options.name}return t.prototype.set=function(t){return void 0!==t&&(this.options=Object(f["__assign"])(Object(f["__assign"])({},this.options),t)),this},t.prototype.isValidPointLength=function(t){return 0===this.options.pointLength||this.options.pointLength===t},t.prototype.compute=function(t,e){var n,r,o=Object.create(null);try{for(var i=Object(f["__values"])(t),a=i.next();!a.done;a=i.next()){var s=a.value,c=s._id,u=this,h=u.computedGroup,p=u.computeFunctionMap;for(var l in void 0===p[c]&&(p[c]=s()),h[c]=h[c]||p[c](e),h[c])o[l]=h[c][l]}}catch(d){n={error:d}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o},t}(),lt=pt,dt=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},vt=function(t,e){return t.x*e.x+t.y*e.y},gt=function(t,e){var n=dt(t)*dt(e);if(0===n)return 0;var r=vt(t,e)/n;return r>1&&(r=1),Math.acos(r)},mt=function(t,e){return t.x*e.y-e.x*t.y},yt=function(t){return t/Math.PI*180},bt=function(t,e){var n=gt(t,e);return mt(t,e)>0&&(n*=-1),yt(n)},_t=function(t,e){return t===e?P:Math.abs(t)>Math.abs(e)?0<t?j:x:0<e?E:L};function wt(t){var e=t.startV,n=t.prevV,r=t.activeV,o=Math.round(bt(r,n)),i=Math.round(bt(r,e));return{angle:i,deltaAngle:o}}function Ot(){return function(t){var e=t.prevInput,n=0,r=0,o=0;if(void 0!==e&&(n=t.x-e.x,r=t.y-e.y,0!==n||0!==r)){var i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));o=Math.round(yt(Math.acos(Math.abs(n)/i)))}return{deltaX:n,deltaY:r,deltaXYAngle:o}}}function Tt(){var t=0,e=0,n=0,r=0,o=0,i=P;return function(a){var s=a.inputType,c=a.startInput;return _===s?(t=0,e=0,n=0,r=0,o=0,i=P):w===s&&(t=Math.round(a.points[0][m]-c.points[0][m]),e=Math.round(a.points[0][y]-c.points[0][y]),n=Math.abs(t),r=Math.abs(e),o=Math.round(dt({x:n,y:r})),i=_t(t,e)),{displacementX:t,displacementY:e,distanceX:n,distanceY:r,distance:o,overallDirection:i}}}function xt(){var t=0;return function(e){var n=e.inputType;return _===n&&(t=e.pointLength),{maxPointLength:t}}}function jt(t){var e=t.startV,n=t.prevV,r=t.activeV,o=U(dt(r)/dt(n)),i=U(dt(r)/dt(e));return{scale:i,deltaScale:o}}function Lt(){var t,e,n=0,r=0,o=0,i=0;return function(a){if(void 0!==a){var s=a.inputType;e=e||a.startInput;var c=a.timestamp-e.timestamp;if(w===s&&b<c){var u=a.x-e.x,h=a.y-e.y;o=Math.round(u/c*100)/100,i=Math.round(h/c*100)/100,n=Math.abs(o),r=Math.abs(i),t=_t(u,h)||t,e=a}}return{velocityX:n,velocityY:r,speedX:o,speedY:i,direction:t}}}function Et(t){return{x:t.points[1][m]-t.points[0][m],y:t.points[1][y]-t.points[0][y]}}function Pt(){return function(t){var e=t.prevInput,n=t.startMultiInput;if(void 0!==n&&void 0!==e&&t.id!==n.id&&1<e.pointLength&&1<t.pointLength)return{startV:Et(n),prevV:Et(e),activeV:Et(t)}}}Ot._id="ComputeDeltaXY",Tt._id="computeDistance",xt._id="computeMaxLength",Lt._id="ComputeVAndDir",Pt._id="ComputeVectorForMutli";var St={name:"tap",pointLength:1,tapTimes:1,waitNextTapTime:300,maxDistance:2,maxDistanceFromPrevTap:9,maxPressTime:250},Mt=function(t){function e(e){var n=t.call(this,Object(f["__assign"])(Object(f["__assign"])({},St),e))||this;return n.tapCount=0,n}return Object(f["__extends"])(e,t),e.prototype._isValidDistanceFromPrevTap=function(t){if(void 0!==this.prevTapPoint){var e=dt({x:t.x-this.prevTapPoint.x,y:t.y-this.prevTapPoint.y});return this.prevTapPoint=t,this.options.maxDistanceFromPrevTap>=e}return this.prevTapPoint=t,!0},e.prototype._isValidInterval=function(){var t=performance.now();if(void 0===this.prevTapTime)return this.prevTapTime=t,!0;var e=t-this.prevTapTime;return this.prevTapTime=t,e<this.options.waitNextTapTime},e.prototype.recognize=function(t,e){var n=t.inputType,r=t.x,o=t.y;this.computed=this.compute([xt,Tt],t),T===n&&(this.status=N,this.test(t)?(this.cancelCountDownToFail(),this._isValidDistanceFromPrevTap({x:r,y:o})&&this._isValidInterval()?this.tapCount++:this.tapCount=1,0===this.tapCount%this.options.tapTimes?(this.status=X,e(this.options.name,Object(f["__assign"])(Object(f["__assign"])({},this.computed),{tapCount:this.tapCount})),this.reset()):this.countDownToFail()):(this.reset(),this.status=G))},e.prototype.countDownToFail=function(){var t=this;this._countDownToFailTimer=setTimeout((function(){t.status=G,t.reset()}),this.options.waitNextTapTime)},e.prototype.cancelCountDownToFail=function(){clearTimeout(this._countDownToFailTimer)},e.prototype.reset=function(){this.tapCount=0,this.prevTapPoint=void 0,this.prevTapTime=void 0},e.prototype.test=function(t){var e=t.startInput,n=t.pointLength,r=t.timestamp-e.timestamp,o=this.computed,i=o.maxPointLength,a=o.distance;return i===this.options.pointLength&&0===n&&this.options.maxDistance>=a&&this.options.maxPressTime>r},e}(lt),It=Mt,Ct={name:"pan",threshold:10,pointLength:1},kt=function(t){function e(e){return t.call(this,Object(f["__assign"])(Object(f["__assign"])({},Ct),e))||this}return Object(f["__extends"])(e,t),e.prototype.test=function(t){var e=t.pointLength,n=this.computed.distance;return(this.isRecognized||this.options.threshold<=n)&&this.isValidPointLength(e)},e.prototype.recognize=function(t,e){this.computed=this.compute([Lt,Tt,Ot],t);var n=void 0!==this.computed.direction&&ft(this,t,e);n&&e(this.options.name+this.computed.direction,this.computed)},e}(lt),Rt=kt,At={name:"swipe",threshold:10,velocity:.3,pointLength:1},zt=function(t){function e(e){return t.call(this,Object(f["__assign"])(Object(f["__assign"])({},At),e))||this}return Object(f["__extends"])(e,t),e.prototype.test=function(t){var e=t.inputType;if(T!==e)return!1;var n=this.computed,r=n.velocityX,o=n.velocityY,i=n.maxPointLength,a=n.distance;return this.options.pointLength===i&&this.options.threshold<a&&this.options.velocity<Math.max(r,o)},e.prototype.recognize=function(t,e){this.computed=this.compute([xt,Lt,Tt],t),this.test(t)&&(e(this.options.name,this.computed),e(this.options.name+this.computed.direction,this.computed))},e}(lt),Ft=zt,Dt={name:"press",pointLength:1,maxDistance:9,minPressTime:251},Nt=function(t){function e(e){return t.call(this,Object(f["__assign"])(Object(f["__assign"])({},Dt),e))||this}return Object(f["__extends"])(e,t),e.prototype.recognize=function(t,e){var n=this,r=t.inputType,o=t.startInput,i=t.pointLength;if(_===r&&this.isValidPointLength(i))ut(this),this.cancel(),this._timeoutId=setTimeout((function(){n.status=X,e(n.options.name,t)}),this.options.minPressTime);else if(T===r&&X===this.status)e(""+this.options.name+L,this.computed);else if(X!==this.status){var a=t.timestamp-o.timestamp;(!this.test(t)||this.options.minPressTime>a&&[T,O].includes(r))&&(this.cancel(),this.status=G)}},e.prototype.test=function(t){this.computed=this.compute([Tt],t);var e=this.computed.distance;return this.options.maxDistance>e},e.prototype.cancel=function(){clearTimeout(this._timeoutId)},e}(lt),Bt=Nt,Vt={name:"pinch",threshold:0,pointLength:2},Yt=function(t){function e(e){return t.call(this,Object(f["__assign"])(Object(f["__assign"])({},Vt),e))||this}return Object(f["__extends"])(e,t),e.prototype.test=function(t){var e=t.pointLength,n=this.computed.scale;return this.isValidPointLength(e)&&void 0!==n&&(this.options.threshold<Math.abs(n-1)||this.isRecognized)},e.prototype.recognize=function(t,e){var n=this.compute([Pt],t);"activeV"in n&&(this.computed=Object(f["__assign"])(Object(f["__assign"])({},this.computed),jt(n))),ft(this,t,e)},e}(lt),Xt=Yt,Gt={name:"rotate",threshold:0,pointLength:2},Ht=function(t){function e(e){return t.call(this,Object(f["__assign"])(Object(f["__assign"])({},Gt),e))||this}return Object(f["__extends"])(e,t),e.prototype.test=function(t){var e=t.pointLength,n=this.computed.angle;return this.isValidPointLength(e)&&(this.options.threshold<Math.abs(n)||this.isRecognized)},e.prototype.recognize=function(t,e){var n=this.compute([Pt],t);"activeV"in n&&(this.computed=Object(f["__assign"])(Object(f["__assign"])({},this.computed),wt(n))),ft(this,t,e)},e}(lt),Ut=Ht;ct.use(It),ct.use(Rt),ct.use(Ft),ct.use(Bt),ct.use(Xt),ct.use(Ut),ct.Tap=It,ct.Pan=Rt,ct.Swipe=Ft,ct.Press=Bt,ct.Pinch=Xt,ct.Rotate=Ut,ct.STATUS_POSSIBLE=N,ct.STATUS_START=B,ct.STATUS_MOVE=V,ct.STATUS_END=Y,ct.STATUS_CANCELLED=H,ct.STATUS_FAILED=G,ct.STATUS_RECOGNIZED=X;var Wt=ct,$t={};function qt(t){return"[object HTMLImageElement]"===Object.prototype.toString.call(t)}function Jt(t){return new Promise((function(e,n){if(qt(t))e(t);else if(/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/.test(t)){var r=document.createElement("canvas");r.width=1,r.height=1;var o=r.getContext("2d");o.fillStyle=t,o.fillRect(0,0,1,1),Jt(r.toDataURL()).then(e)}else{if($t[t])return void e($t[t]);var i=new Image;i.onload=function(){$t[t]=i,e(i)},i.onerror=n,i.src=t}}))}var Zt=function(t){function e(e,n,r){void 0===n&&(n=400),void 0===r&&(r=300);var o=t.call(this)||this;return o.canvasWidth=0,o.canvasHeight=0,o.org=[0,0],o.angle=0,o.scale=1,o.overlays=[],o.backgrounds=[],o.imgWidth=0,o.imgHeight=0,o.offsetInOA=[0,0],o.offsetInOB=[0,0],o._timeout=-1,e.width=n,e.height=r,o.canvasWidth=n,o.canvasHeight=r,o.canvas=e,o.context=o.canvas.getContext("2d"),o}return Object(f["__extends"])(e,t),Object.defineProperty(e.prototype,"rad",{get:function(){return this.angle*Math.PI/180},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this;clearTimeout(this._timeout),this._timeout=setTimeout((function(){return Object(f["__awaiter"])(t,void 0,void 0,(function(){var t,e,n,r,o,i,a,s,c,u,h,p,l,d,v,g,m,y,b,_,w,O,T,x,j,L,E;return Object(f["__generator"])(this,(function(P){switch(P.label){case 0:if(console.log("render"),null==this.context||!this.img||0===this.canvasWidth||0===this.canvasHeight)return[2];t=this,e=t.context,n=t.canvasWidth,r=t.canvasHeight,o=t.org,i=t.rad,a=t.offsetInOB,s=t.scale,c=t.img,u=t.imgWidth,h=t.imgHeight,e.clearRect(0,0,n,r),this.drawChessboard(e),P.label=1;case 1:P.trys.push([1,6,7,8]),p=Object(f["__values"])(this.backgrounds),l=p.next(),P.label=2;case 2:return l.done?[3,5]:(d=l.value,g=(v=e).drawImage,[4,Jt(d)]);case 3:g.apply(v,[P.sent(),0,0,this.canvasWidth,this.canvasHeight]),P.label=4;case 4:return l=p.next(),[3,2];case 5:return[3,8];case 6:return m=P.sent(),x={error:m},[3,8];case 7:try{l&&!l.done&&(j=p.return)&&j.call(p)}finally{if(x)throw x.error}return[7];case 8:e.save(),e.translate(o[0],o[1]),e.scale(s,s),e.rotate(i),e.drawImage(c,0,0,c.width,c.height,a[0],a[1],u,h),e.restore(),P.label=9;case 9:P.trys.push([9,14,15,16]),y=Object(f["__values"])(this.overlays),b=y.next(),P.label=10;case 10:return b.done?[3,13]:(_=b.value,O=(w=e).drawImage,[4,Jt(_)]);case 11:O.apply(w,[P.sent(),0,0,this.canvasWidth,this.canvasHeight]),P.label=12;case 12:return b=y.next(),[3,10];case 13:return[3,16];case 14:return T=P.sent(),L={error:T},[3,16];case 15:try{b&&!b.done&&(E=y.return)&&E.call(y)}finally{if(L)throw L.error}return[7];case 16:return this.emit("transform",{offset:this.offsetInOA,scale:this.scale,angle:this.angle,org:this.org}),[2]}}))}))}),0)},e.prototype.changeOrg=function(t){this.org=t,this.offsetInOB=this.switchToOB(this.offsetInOA),this.render()},e.prototype.changeOverlay=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.overlays=t,this.render()},e.prototype.changeBackground=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.backgrounds=t,this.render()},e.prototype.changeImg=function(t){this.img=t,this.reset()},e.prototype.reset=function(){if(this.img){this.changeOrg([this.canvasWidth/2,this.canvasHeight/2]);var t=this.getCenterRectOffsetTopLeft(this.img.width,this.img.height,this.canvasWidth,this.canvasHeight),e=t.top,n=t.left,r=t.width,o=t.height;this.offsetInOA=[n,e],this.scale=1,this.angle=0,this.offsetInOB=this.switchToOB(this.offsetInOA),this.imgWidth=r,this.imgHeight=o,this.render()}},e.prototype.move=function(t,e){var n=Object(f["__read"])(this.offsetInOA,2),r=n[0],o=n[1];return this.moveTo(r+t,o+e),this.offsetInOA},e.prototype.moveTo=function(t,e){this.offsetInOA=[t,e],this.offsetInOB=this.switchToOB(this.offsetInOA),this.render()},e.prototype.changeOrgToImageCenter=function(){var t=[this.offsetInOB[0]+this.imgWidth/2,this.offsetInOB[1]+this.imgHeight/2],e=this.switchToOA(t);this.changeOrg(e)},e.prototype.rotate=function(t,e){return this.rotateTo(this.angle+t,e),this.angle},e.prototype.rotateTo=function(t,e){void 0===e&&this.changeOrgToImageCenter(),this.angle=t,this.offsetInOA=this.switchToOA(this.offsetInOB),this.render()},e.prototype.zoom=function(t,e){return this.zoomTo(this.scale*t,e),this.scale},e.prototype.zoomTo=function(t,e){void 0===e&&this.changeOrgToImageCenter(),this.scale=t,this.offsetInOA=this.switchToOA(this.offsetInOB),this.render()},e.prototype.switchToOB=function(t){var e=Object(f["__read"])(t,2),n=e[0],r=e[1],o=this,i=o.rad,a=o.scale,s=o.org,c=n-s[0],u=r-s[1];return[(Math.cos(i)*c+Math.sin(i)*u)/a,(-Math.sin(i)*c+Math.cos(i)*u)/a]},e.prototype.switchToOA=function(t){var e=Object(f["__read"])(t,2),n=e[0],r=e[1],o=this,i=o.rad,a=o.scale,s=o.org;return[(Math.cos(i)*n-Math.sin(i)*r)*a+s[0],(Math.sin(i)*n+Math.cos(i)*r)*a+s[1]]},e.prototype.drawChessboard=function(t){var e=[24,Math.ceil(24*this.canvasHeight/this.canvasWidth)],n=this.canvasWidth/e[0];t.save();for(var r="#ddd",o=r,i=0;i<=e[0];i++){for(var a=0;a<e[1];a++){t.fillStyle=r;var s=0+n*i,c=0+n*a;t.fillRect(s,c,n,n),r="#ddd"===r?"#fff":"#ddd"}o="#ddd"===r?"#fff":"#ddd",r=o}t.stroke(),t.restore()},e.prototype.getCenterRectOffsetTopLeft=function(t,e,n,r){var o=[t/n,e/r];if(o[0]>o[1]){var i=Math.floor(n*e/t);return{width:n,height:i,top:(r-i)/2,left:0}}var a=Math.floor(r*t/e);return{width:a,height:r,top:0,left:(n-a)/2}},e}(l.a),Kt=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;o.moveRate=1,o.moveRate=e.offsetWidth/n;var i=new Wt(e);o.at=i;var a=function(t){var e=t.x,n=t.y,r=o,i=r.moveRate,a=r.canvas,s=a.getBoundingClientRect(),c=[(e-s.left)/i,(n-s.top)/i];o.changeOrg(c),o.emit("change-org",c)};return i.on("tap",a),i.on("pinchstart",a),i.on("rotatestart",a),i.on("panstart",(function(t){o.emit("panstart",t)})),i.on("pinchstart",(function(t){o.emit("pinchstart",t)})),i.on("rotatestart",(function(t){o.emit("rotatestart",t)})),i.on("panend",(function(t){o.emit("panend",t)})),i.on("pinchend",(function(t){o.emit("pinchend",t)})),i.on("rotateend",(function(t){o.emit("rotateend",t)})),i.on("panmove",(function(t){var e=t.deltaX,n=t.deltaY;o.move(e/o.moveRate,n/o.moveRate)})),i.on("pinchmove",(function(t){var e=t.deltaScale;t.scale;o.zoom(e)})),i.on("rotatemove",(function(t){var e=t.deltaAngle;o.rotate(e,o.org)})),o}return Object(f["__extends"])(e,t),e.prototype.destroy=function(){this.at.destroy()},e}(Zt),Qt=Kt,te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"button-load-file"},[n("input",{attrs:{type:"file",accept:"image/*",multiple:""},on:{change:t.onChange}}),t._t("default",[t._v("Upload")])],2)},ee=[],ne={},re=function(t){return new Promise((function(e,n){if(ne[t])e(ne[t]);else{var r=new Image;r.onload=function(){ne[t]=r,e(r)},r.onerror=n,r.src=t}}))},oe={name:"ButtonLoadFile",props:{cropSize:{type:Array,default:function(){return[426,269]}}},computed:{cropRate:function(){return this.cropSize[0]/this.cropSize[1]}},data:function(){return{url:""}},methods:{readFile:function(t){var e=this;return new Promise((function(n,r){var o=new FileReader;o.readAsDataURL(t),o.onload=function(){var t=a(regeneratorRuntime.mark((function t(r){var o,i,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,re(r.target.result);case 2:o=t.sent,i=o.width,a=o.height,s=e.crop(o),n({source:{url:r.target.result,img:o,width:i,height:a},crop:s});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o.onerror=r}))},onChange:function(t){var e=this;return a(regeneratorRuntime.mark((function n(){var r,o,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.target,o=r.files,i=Array.from(o),!(0<i.length)){n.next=10;break}return n.next=6,Promise.all(i.map(function(){var t=a(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e.readFile(n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 6:s=n.sent,e.$emit("loaded",s),n.next=11;break;case 10:e.$emit("reset");case 11:case"end":return n.stop()}}),n)})))()},crop:function(t){var e=document.createElement("canvas"),n=e.getContext("2d"),r=t.width,o=t.height,i=r/o,a=r,s=o,c=0,u=0,h="x";this.cropRate>i?(h="y",s=a/this.cropRate,c=(o-s)/2):(a=s*this.cropRate,u=(r-a)/2),e.width=this.cropSize[0],e.height=this.cropSize[1];var f=[t,u,c,a,s,0,0,this.cropSize[0],this.cropSize[1]];n.drawImage.apply(n,f);var p=e.toDataURL();return{url:p,x:u,y:c,width:a,height:s,cropAxis:h,cropRate:this.cropRate,args:f}}}},ie=oe,ae=(n("46a8"),n("2877")),se=Object(ae["a"])(ie,te,ee,!1,null,null,null),ce=se.exports,ue={name:"DIY",components:{ButtonLoadFile:ce},data:function(){return{img:null,isShowLine:!1,photoTouch:null,overlayImgs:[],activeOverlay:{},org:[716,1108],angle:0,scale:1,offset:[0,0],width:1217,height:2104,backgroundColor:"#fff",lineOverlays:["https://cdn.shopifycdn.net/s/files/1/0276/2922/4000/files/baseline.png?v=1597131354"],previewOverlays:["https://cdn.shopifycdn.net/s/files/1/0276/2922/4000/files/iphone11-back_shade.png?v=1597136818","https://cdn.shopifycdn.net/s/files/1/0276/2922/4000/files/camera.png?v=1597131363"]}},watch:{isShowLine:function(t){var e,n;this.img;t?(e=this.photoTouch).changeOverlay.apply(e,h(this.lineOverlays)):(this.photoTouch.changeBackground(this.backgroundColor),(n=this.photoTouch).changeOverlay.apply(n,h(this.previewOverlays)))}},mounted:function(){var t=this;return a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.photoTouch=new Qt(t.$refs.canvas,t.width,t.height),t.photoTouch.on("transform",(function(e){var n=e.offset,r=e.scale,o=e.angle,i=e.org;t.offset=n,t.scale=r,t.angle=o,t.org=i})),t.photoTouch.on("panstart",(function(){t.isShowLine=!0})),t.photoTouch.on("panend",(function(){t.isShowLine=!1})),t.photoTouch.on("pinchstart",(function(){t.isShowLine=!0})),t.photoTouch.on("pinchend",(function(){t.isShowLine=!1})),t.photoTouch.on("rotatestart",(function(){t.isShowLine=!0})),t.photoTouch.on("rotateend",(function(){t.isShowLine=!1}));case 8:case"end":return e.stop()}}),e)})))()},methods:{togglePreview:function(){var t=this;return a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.isShowLine=!t.isShowLine;case 1:case"end":return e.stop()}}),e)})))()},onImageLoaded:function(t){var e=this;return a(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:o=t[0].source.img,e.img=o,e.photoTouch.changeBackground(e.backgroundColor),e.photoTouch.changeImg(o),(r=e.photoTouch).changeOverlay.apply(r,h(e.previewOverlays));case 5:case"end":return n.stop()}}),n)})))()},reset:function(){this.photoTouch.reset()}}},he=ue,fe=(n("7e25"),Object(ae["a"])(he,r,o,!1,null,null,null));e["default"]=fe.exports},"44e7":function(t,e,n){var r=n("861d"),o=n("c6b6"),i=n("b622"),a=i("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==o(t))}},"46a8":function(t,e,n){"use strict";var r=n("98b7"),o=n.n(r);o.a},"5a34":function(t,e,n){var r=n("44e7");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},7036:function(t,e,n){},"7e25":function(t,e,n){"use strict";var r=n("7036"),o=n.n(r);o.a},"96cf":function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){var o=e&&e.prototype instanceof v?e:v,i=Object.create(o.prototype),a=new P(r||[]);return i._invoke=x(t,n,a),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}t.wrap=c;var h="suspendedStart",f="suspendedYield",p="executing",l="completed",d={};function v(){}function g(){}function m(){}var y={};y[i]=function(){return this};var b=Object.getPrototypeOf,_=b&&b(b(S([])));_&&_!==n&&r.call(_,i)&&(y=_);var w=m.prototype=v.prototype=Object.create(y);function O(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function T(t){function e(n,o,i,a){var s=u(t[n],t,o);if("throw"!==s.type){var c=s.arg,h=c.value;return h&&"object"===typeof h&&r.call(h,"__await")?Promise.resolve(h.__await).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):Promise.resolve(h).then((function(t){c.value=t,i(c)}),(function(t){return e("throw",t,i,a)}))}a(s.arg)}var n;function o(t,r){function o(){return new Promise((function(n,o){e(t,r,n,o)}))}return n=n?n.then(o,o):o()}this._invoke=o}function x(t,e,n){var r=h;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===l){if("throw"===o)throw i;return M()}n.method=o,n.arg=i;while(1){var a=n.delegate;if(a){var s=j(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=l,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=u(t,e,n);if("normal"===c.type){if(r=n.done?l:f,c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=l,n.method="throw",n.arg=c.arg)}}}function j(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=e,j(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,d;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function S(t){if(t){var n=t[i];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){while(++o<t.length)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:M}}function M(){return{value:e,done:!0}}return g.prototype=w.constructor=m,m.constructor=g,m[s]=g.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},O(T.prototype),T.prototype[a]=function(){return this},t.AsyncIterator=T,t.async=function(e,n,r,o){var i=new T(c(e,n,r,o));return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},O(w),w[s]="Generator",w[i]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:S(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=r}catch(o){Function("r","regeneratorRuntime = r")(r)}},"98b7":function(t,e,n){},"9cf4":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return o})),n.d(e,"__assign",(function(){return i})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return h})),n.d(e,"__generator",(function(){return f})),n.d(e,"__createBinding",(function(){return p})),n.d(e,"__exportStar",(function(){return l})),n.d(e,"__values",(function(){return d})),n.d(e,"__read",(function(){return v})),n.d(e,"__spread",(function(){return g})),n.d(e,"__spreadArrays",(function(){return m})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return b})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return O})),n.d(e,"__importStar",(function(){return T})),n.d(e,"__importDefault",(function(){return x})),n.d(e,"__classPrivateFieldGet",(function(){return j})),n.d(e,"__classPrivateFieldSet",(function(){return L}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function s(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function c(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r["throw"](t))}catch(e){i(e)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function f(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}function p(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function l(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){i.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{c(o[t](e))}catch(n){f(i[0][3],n)}}function c(t){t.value instanceof y?Promise.resolve(t.value.v).then(u,h):f(i[0][2],t)}function u(t){s("next",t)}function h(t){s("throw",t)}function f(t,e){t(e),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:o?o(e):e}:o}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"===typeof d?d(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){e=t[n](e),o(r,i,e.done,e.value)}))}}function o(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}}function O(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function T(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function x(t){return t&&t.__esModule?t:{default:t}}function j(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function L(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},ab13:function(t,e,n){var r=n("b622"),o=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[o]=!1,"/./"[t](e)}catch(r){}}return!1}},db90:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("e260"),n("d3b7"),n("25f0"),n("3ca3"),n("ddb0");function r(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},f9e0:function(t,e,n){"use strict";n("c740"),n("a434"),Object.defineProperty(e,"__esModule",{value:!0});var r=n("9cf4"),o=function(){function t(){this.listenersMap={}}return t.prototype.target=function(t){var e=this;return{on:function(n,r){e.on(n,r,{target:t})}}},t.prototype.on=function(t,e,n){var r=(void 0===n?{}:n).target;void 0===this.listenersMap[t]&&(this.listenersMap[t]=[]),void 0!==r&&(e.target=r),this.listenersMap[t].push(e)},t.prototype.off=function(t,e){var n=this.listenersMap[t];if(void 0!==n)if(void 0===e)delete this.listenersMap[t];else{var r=n.findIndex((function(t){return t===e}));n.splice(r,1)}},t.prototype.emit=function(t,e,n){var o,i;void 0===n&&(n=function(){return!0});var a=this.listenersMap[t];if(void 0!==a&&0<a.length)try{for(var s=r.__values(a),c=s.next();!c.done;c=s.next()){var u=c.value;n({target:u.target})&&u(e)}}catch(r){o={error:r}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}},t.prototype.destroy=function(){this.listenersMap={}},t}();e.default=o}}]);
//# sourceMappingURL=chunk-29452917.302eaee2.js.map