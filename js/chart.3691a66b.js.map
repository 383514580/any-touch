{"version":3,"sources":["webpack:///./src/views/Chart.vue?f23f","webpack:///./src/views/Chart.vue?5962","webpack:///src/views/Chart.vue","webpack:///./src/views/Chart.vue?4f4b","webpack:///./src/views/Chart.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","attrs","_v","_l","title","key","staticClass","_s","staticRenderFns","component"],"mappings":"yGAAA,yBAAqhB,EAAG,G,yCCAxhB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACA,EAAG,MAAM,CAACE,IAAI,MAAMC,MAAM,CAAC,MAAQ,OAAO,OAAS,OAAO,QAAU,MAAM,MAAQ,+BAA+B,CAACH,EAAG,OAAO,CAACE,IAAI,OAAOC,MAAM,CAAC,EAAI,MAAM,EAAI,QAAQ,CAACP,EAAIQ,GAAG,SAASR,EAAIS,GAAIT,EAAS,OAAE,SAASM,GAC7T,IAAII,EAAQJ,EAAII,MAChB,OAAON,EAAG,IAAI,CAACO,IAAID,GAAO,CAACN,EAAG,OAAO,CAACQ,YAAY,OAAOL,MAAM,CAAC,EAAI,MAAM,EAAI,SAASH,EAAG,OAAO,CAACG,MAAM,CAAC,EAAI,MAAM,EAAI,MAAM,cAAc,SAAS,oBAAoB,WAAW,CAACP,EAAIQ,GAAGR,EAAIa,GAAGH,YAAe,MAC7MI,EAAkB,GCmBtB,G,sEAAA,CACE,KAAF,QAEE,KAHF,WAII,MAAJ,CACM,MAAN,CACA,CACQ,MAAR,UACQ,SAAR,CACA,CACU,MAAV,MACU,SAAV,EAAY,MAAZ,UAAY,MAAZ,WAEA,CAAU,MAAV,YAOE,QApBF,WAqBA,2BAAI,IAIJ,KACA,kBACI,MAAJ,cACM,IAAN,UACM,EAAN,QAFM,IAGN,aACM,QAAN,OAAQ,IAAR,mBAAQ,IACE,IAAV,0DAAY,IAAZ,UACY,EAAZ,SAFA,SAAU,GAAV,EAAU,EAAV,UAAU,IAAV,sCAAY,GAAI,EAAhB,WAMI,QAAJ,QAIE,QAAF,CACI,cADJ,SACA,GACM,IAAN,+BADA,EAEA,WAFA,EAEA,KACA,qCACA,oCACM,EAAN,wBACM,EAAN,yBACM,EAAN,YACM,EAAN,eACM,EAAN,eACM,IAAN,4BAEM,OADA,EAAN,eACA,MC5E+U,I,wBCQ3UC,EAAY,eACd,EACAhB,EACAe,GACA,EACA,KACA,KACA,MAIa,aAAAC,E","file":"js/chart.3691a66b.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chart.vue?vue&type=style&index=0&scope=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chart.vue?vue&type=style&index=0&scope=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_c('svg',{ref:\"svg\",attrs:{\"width\":\"100%\",\"height\":\"100%\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('text',{ref:\"text\",attrs:{\"x\":\"100\",\"y\":\"100\"}},[_vm._v(\"100\")]),_vm._l((_vm.nodes),function(ref){\nvar title = ref.title;\nreturn _c('g',{key:title},[_c('rect',{staticClass:\"node\",attrs:{\"x\":\"400\",\"y\":\"300\"}}),_c('text',{attrs:{\"x\":\"460\",\"y\":\"330\",\"text-anchor\":\"middle\",\"dominant-baseline\":\"middle\"}},[_vm._v(_vm._s(title))])])})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <main>\n        <svg ref=\"svg\" width=\"100%\" height=\"100%\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n            <!-- <rect class=\"node\" />\n            <line\n                x1=\"50\"\n                y1=\"60\"\n                x2=\"50\"\n                y2=\"300\"\n                style=\"fill: red; stroke: black; stroke-width: 2\"\n            />-->\n            <text ref=\"text\" x=\"100\" y=\"100\">100</text>\n            <g v-for=\"({title}) in nodes\" :key=\"title\">\n                <rect x=\"400\" y=\"300\" class=\"node\" />\n                <text x=\"460\" y=\"330\" text-anchor=\"middle\" dominant-baseline=\"middle\">{{title}}</text>\n            </g>\n        </svg>\n    </main>\n</template>\n\n<script>\nimport axios from 'axios';\nexport default {\n    name: 'Chart',\n\n    data() {\n        return {\n            nodes: [\n                {\n                    title: '顶级菜单和校区',\n                    children: [\n                        {\n                            title: '1-1',\n                            children: [{ title: '1-1-1' }, { title: '1-1-2' }]\n                        },\n                        { title: '1-2' }\n                    ]\n                }\n            ]\n        };\n    },\n\n    mounted() {\n        const l = this.$refs.svg.scrollWidth;\n        // console.log(l);\n\n        const level3 = [];\n        const flatNodes = [];\n        let stack = [this.nodes[0]];\n        while (0 !== stack.length) {\n            const node = stack.pop();\n            flatNodes.push(node);\n            const { children } = node;\n            if (void 0 !== children) {\n                for (const node of children) {\n                    stack.push(node);\n                }\n            }\n        }\n        console.log(flatNodes);\n        // console.log(this.calcTextWidth(`顶级菜单和校区`))\n    },\n\n    methods: {\n        calcTextWidth(text) {\n            const ns = 'http://www.w3.org/2000/svg';\n            const { body } = document;\n            const textNode = document.createElementNS(ns, 'text');\n            const svgNode = document.createElementNS(ns, 'svg');\n            svgNode.setAttribute('width', 0);\n            svgNode.setAttribute('height', 0);\n            textNode.innerHTML = text;\n            body.appendChild(svgNode);\n            svgNode.appendChild(textNode);\n            const width = textNode.getComputedTextLength();\n            body.removeChild(svgNode);\n            return width;\n        }\n    }\n};\n</script>\n\n<style scope lang=\"scss\">\nmain {\n    // height:500px;\n    // width:500px;\n    text {\n        //   stroke-width:1;\n        fill: #000;\n        // stroke:rgb(0,0,0);\n    }\n    .node {\n        fill: transparent;\n        stroke-width: 1;\n        stroke: rgb(0, 0, 0);\n        width: 120px;\n        height: 60px;\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chart.vue?vue&type=template&id=56c570a9&\"\nimport script from \"./Chart.vue?vue&type=script&lang=js&\"\nexport * from \"./Chart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Chart.vue?vue&type=style&index=0&scope=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}