(function(t){function e(e){for(var r,o,s=e[0],c=e[1],u=e[2],p=0,l=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&l.push(i[o][0]),i[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);f&&f(e);while(l.length)l.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,o=1;o<n.length;o++){var s=n[o];0!==i[s]&&(r=!1)}r&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},o={app:0},i={app:0},a=[];function s(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-2d20fb2a":"ab9f4b64","chunk-2d22277b":"261de88d","chunk-5faec9de":"827e4c63"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-5faec9de":1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=new Promise((function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-2d20fb2a":"31d6cfe0","chunk-2d22277b":"31d6cfe0","chunk-5faec9de":"995ac5f3"}[t]+".css",i=c.p+r,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var u=a[s],p=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(p===r||p===i))return e()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){u=l[s],p=u.getAttribute("data-href");if(p===r||p===i)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var r=e&&e.target&&e.target.src||i,a=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete o[t],f.parentNode.removeChild(f),n(a)},f.href=i;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){o[t]=0})));var r=i[t];if(0!==r)if(r)e.push(r[2]);else{var a=new Promise((function(e,n){r=i[t]=[e,n]}));e.push(r[2]=a);var u,p=document.createElement("script");p.charset="utf-8",p.timeout=120,c.nc&&p.setAttribute("nonce",c.nc),p.src=s(t);var l=new Error;u=function(e){p.onerror=p.onload=null,clearTimeout(f);var n=i[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,n[1](l)}i[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:p})}),12e4);p.onerror=p.onload=u,document.head.appendChild(p)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],p=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var f=p;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"21bb":function(t,e,n){"use strict";var r=n("2dad"),o=n.n(r);o.a},"2dad":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view")},i=[],a={name:"App"},s=a,c=(n("5c0b"),n("2877")),u=Object(c["a"])(s,o,i,!1,null,null,null),p=u.exports,l=(n("d3b7"),n("8c4f")),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"ovh"},[n("header",[t._m(0),n("a",{staticClass:"link",attrs:{target:"_new",href:"https://github.com/any86/any-touch"}},[t._v("文档")]),n("router-link",{staticClass:"link",attrs:{to:"/topology"}},[t._v("SVG")]),n("a",{staticClass:"link",attrs:{href:"https://any86.github.io/photo-touch"}},[t._v("canvas")])],1),n("article",{ref:"panel",staticClass:"panel"},t._l(t.styles,(function(e,r){var o=e.top,i=e.left,a=e.zIndex,s=e.scale,c=e.angle;return n("div",{key:r,ref:"circle",refInFor:!0,class:["circle"],style:{top:o,left:i,zIndex:a,transform:"scale("+s+") rotate("+c+"deg)"},attrs:{index:r},on:{at:t.onTouch,"at:after":function(e){return t.onAfter(e,r)},panstart:function(e){return t.onPanstart(e,r)},panmove:function(e){return t.onPanmove(e,r)},pandown:function(e){return t.onPandown(e,r)},swipe:function(e){return t.onSwipe(e,r)},pinch:function(e){e.match()&&t.onPinch(e,r)},rotate:function(e){e.match()&&t.onRotate(e,r)},transitionend:function(e){return t.onTransitionend(e,r)}}},[n("p",{staticStyle:{"font-size":"16px","border-bottom":"1px dashed #fff"}},[t._v("👋可拖拽 / 缩放等...")]),n("p",[t._v("Top: "+t._s(o))]),n("p",[t._v("Left: "+t._s(i))]),n("p",[t._v("Scale: "+t._s(s))]),n("p",[t._v("Angle: "+t._s(c))])])})),0),n("article",{staticClass:"info p-2 mt-6"},[t.data.type?[n("h1",[t._v(t._s(t.data.type))]),n("table",[t._m(1),t._l(t.map,(function(e){var r=e.key,o=e.desc;return[t.data[r]?n("tr",{key:r},[n("td",[t._v(t._s(r))]),n("td",[t._v(t._s(t.data[r]))]),n("td",[t._v(t._s(o))])]):t._e()]}))],2)]:n("div",{staticClass:"info__tip"},[n("b",{staticClass:"mb-1"},[t._v("👋 支持:")]),n("span",[t._v("tap(点击)")]),n("span",[t._v("press(按)")]),n("span",[t._v("pan(拖拽)")]),n("span",[t._v("swipe(划)")]),n("span",[t._v("pinch(捏合)")]),n("span",[t._v("rotate(旋转)")])]),n("span",{staticClass:"btn-add",on:{click:t.add}},[t._v("添加一个(第"+t._s(t.styles.length+1)+"个)")])],2)])},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{target:"_new",href:"https://github.com/any86/any-touch"}},[n("img",{attrs:{width:"100",src:"https://img.shields.io/github/stars/any86/any-touch?style=social"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{attrs:{align:"left"}},[n("th",[t._v("键值")]),n("th",[t._v("值")]),n("th",[t._v("说明")])])}],d=(n("99af"),n("e02c")),v=n.n(d);function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#000",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#fff";console.log("%c".concat(t),"color:".concat(n,";background-color:").concat(e,";padding:2px 6px;border-radius:4px;"))}var g={name:"Home",data:function(){return{map:[{key:"baseType",desc:"基础事件名"},{key:"x",desc:"触点中心X坐标"},{key:"y",desc:"触点中心Y坐标"},{key:"deltaX",desc:"X轴位移增量"},{key:"deltaY",desc:"Y轴位移增量"},{key:"displacementX",desc:"X轴位移(矢量)"},{key:"displacementY",desc:"Y轴位移(矢量)"},{key:"distanceX",desc:"X轴移动距离"},{key:"distanceY",desc:"Y轴移动距离"},{key:"distance",desc:"X轴Y轴的合距离"},{key:"speedX",desc:"X轴移动速度(矢量)"},{key:"speedY",desc:"Y轴移动速度(矢量)"},{key:"velocityX",desc:"X轴移动速率"},{key:"velocityY",desc:"Y轴移动速率"},{key:"deltaScale",desc:"每次触发pinch的缩放增量"},{key:"scale",desc:"一个识别周期pinch的累计缩放量"},{key:"deltaAngle",desc:"每次触发rotate的选装增量"},{key:"angle",desc:"一个识别周期rotate的累计选装量"}],action:"",data:{},styles:[{left:"50px",top:"160px",zIndex:1,scale:1,angle:0},{left:"50px",top:"320px",zIndex:1,scale:1,angle:0},{left:"50px",top:"480px",zIndex:1,scale:1,angle:0}]}},mounted:function(){var t=new v.a(this.$refs.panel,{preventDefault:!0});t.on("at:after",this.afterEach),t.on("panend",(function(t){console.warn("panend")}))},methods:{add:function(){var t={left:"50px",top:"160px",zIndex:1,scale:1,angle:0};this.styles.push(t)},onAfter:function(t){t.currentTarget.setAttribute("at",t.baseType)},onTouch:function(t){t.currentTarget.setAttribute("at-stage",t.stage)},afterEach:function(t){this.action=t.baseType,this.$set(this,"data",t)},onRotate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.styles[e].angle+=t.deltaAngle},onPinch:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.styles[e].scale=Math.round(this.styles[e].scale*t.deltaScale*100)/100},onRotate1:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.styles[e].angle+=t.deltaAngle},onPinch1:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.styles[e].scale=Math.round(this.styles[e].scale*t.deltaScale*100)/100},onTransitionend:function(t,e){},onTap:function(t){y(t.type,"#f10")},onPress:function(t){y(t.type,"#710")},onSwipe:function(t,e){var n=t.speedX,r=t.speedY;this.styles[e].top=Math.round(parseInt(this.styles[e].top)+120*r)+"px",this.styles[e].left=Math.round(parseInt(this.styles[e].left)+120*n)+"px"},onPanstart:function(t,e){for(var n in this.styles)this.styles[n].zIndex=n==e?2:1},onPanmove:function(t,e){this.styles[e].top=parseInt(this.styles[e].top)+t.deltaY+"px",this.styles[e].left=parseInt(this.styles[e].left)+t.deltaX+"px"},onPandown:function(t,e){}}},m=g,_=(n("21bb"),Object(c["a"])(m,f,h,!1,null,null,null)),b=_.exports;r["a"].use(l["a"]);var $=[{path:"/",name:"home",component:b},{path:"/target",name:"target",component:function(){return n.e("chunk-2d20fb2a").then(n.bind(null,"b578"))}},{path:"/use",name:"use",component:function(){return n.e("chunk-2d22277b").then(n.bind(null,"cf79"))}},{path:"/topology",name:"Topology",component:function(){return n.e("chunk-5faec9de").then(n.bind(null,"2c4c"))}}],T=new l["a"]({routes:$}),x=T;n("b7b3");r["a"].config.productionTip=!1,new r["a"]({router:x,render:function(t){return t(p)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var r=n("9c0c"),o=n.n(r);o.a},"9c0c":function(t,e,n){},e02c:function(t,e,n){var r,o;n("a4d3"),n("e01a"),n("d28b"),n("a623"),n("c740"),n("4160"),n("a630"),n("caad"),n("c975"),n("d81d"),n("13d5"),n("a434"),n("b0c0"),n("a9e3"),n("aff5"),n("dca8"),n("131a"),n("d3b7"),n("ac1f"),n("25f0"),n("3ca3"),n("5319"),n("159b"),n("ddb0");var i=n("7037");(function(a,s){"object"===i(e)&&"undefined"!==typeof t?t.exports=s():(r=s,o="function"===typeof r?r.call(e,n,e,t):r,void 0===o||(t.exports=o))})(0,(function(){"use strict";
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
    Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};function e(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n.apply(this,arguments)};function r(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function o(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}var a=function(){function t(){this.listenersMap={}}return t.prototype.on=function(t,e,n){var r,i,a=Array.isArray(t)?t:[t];try{for(var s=o(a),c=s.next();!c.done;c=s.next()){var u=c.value;void 0===this.listenersMap[u]&&(this.listenersMap[u]=[]),e.beforeEmit=n,this.listenersMap[u].push(e)}}catch(p){r={error:p}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return this},t.prototype.emit=function(t,e){var n,r,i=this.listenersMap[t];if(void 0!==i&&0<i.length)try{for(var a=o(i),s=a.next();!s.done;s=a.next()){var c=s.value;(void 0===c.beforeEmit||void 0!==e&&c.beforeEmit(e))&&c(e)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},t.prototype.off=function(t,e){var n=this.listenersMap[t];if(void 0!==n)if(void 0===e)delete this.listenersMap[t];else{var r=n.findIndex((function(t){return t===e}));n.splice(r,1)}},t.prototype.destroy=function(){this.listenersMap={}},t}(),s=Object.prototype.toString;function c(t){return"[object RegExp]"===s.call(t)}function u(t){return"[object Function]"===s.call(t)}var p="clientX",l="clientY",f=16,h="start",d="move",v="cancel",y="end",g="left",m="right",_="up",b="down",$="touch",T="mouse",x=$+h,M=$+d,w=$+y,E=$+v,P=T+_,k=T+d,L=T+b,S="p",O=h,z=d,A=y,I="r",j="f",X=v;function C(t){return Math.round(100*t)/100}function Y(){var t,e,r,o,i=0;return function(a){if(t=e,void 0!==a){i=Number.MAX_SAFE_INTEGER>i?++i:1;var s=D(a,i);e=s;var c=s.isStart,u=s.pointLength;return c&&(r=s,t=void 0,o=1<u?s:void 0),n(n({},s),{prevInput:t,startMultiInput:o,startInput:r})}}}function F(t){var e=t.length;if(0<e){if(1===e){var n=t[0],r=n.clientX,o=n.clientY;return{x:Math.round(r),y:Math.round(o)}}var i=t.reduce((function(t,e){return t.x+=e[p],t.y+=e[l],t}),{x:0,y:0});return{x:Math.round(i.x/e),y:Math.round(i.y/e)}}}function D(t,e){var n=t.stage,r=t.points,o=t.changedPoints,i=t.nativeEvent,a=r.length,s=h===n,c=y===n&&0===a||v===n,u=Date.now(),p=F(r)||F(o),l=p.x,f=p.y,d=i.currentTarget;return Object.assign(t,{id:e,x:l,y:f,timestamp:u,isStart:s,isEnd:c,pointLength:a,currentTarget:d,getOffset:function(t){void 0===t&&(t=d);var e=t.getBoundingClientRect();return{x:l-Math.round(e.left),y:f-Math.round(e.top)}}})}function V(){var t,e=!1,n=null,r=Y();return function(o){var i,a=o.clientX,s=o.clientY,c=o.type,u=o.button,p=o.target,l=[{clientX:a,clientY:s,target:p}];L===c&&0===u?(n=p,e=!0,i=h):e&&(k===c?i=d:P===c&&(l=[],i=y,e=!1));var f=t||[{clientX:a,clientY:s,target:p}];if(t=[{clientX:a,clientY:s,target:p}],void 0!==i)return r({stage:i,changedPoints:f,points:l,target:n,targets:[n],nativeEvent:o})}}function N(t){var e=Y();return function(n){var r=[],o=[];Array.from(n.touches).forEach((function(e){var n=e.clientX,i=e.clientY,a=e.target;(null===t||void 0===t?void 0:t.contains(a))&&(r.push(a),o.push({clientX:n,clientY:i,target:a}))}));var i=Array.from(n.changedTouches).map((function(t){var e=t.clientX,n=t.clientY,r=t.target;return{clientX:e,clientY:n,target:r}}));return e({stage:n.type.replace("touch",""),changedPoints:i,points:o,nativeEvent:n,target:n.target,targets:r})}}function R(t,e,n){e.target,e.currentTarget;var o,i=e.type,a=r(e,["target","currentTarget","type"]);return document.createEvent?(o=document.createEvent("HTMLEvents"),o.initEvent(i,null===n||void 0===n?void 0:n.bubbles,null===n||void 0===n?void 0:n.cancelable)):o=new Event(i,n),Object.assign(o,a,{match:function(){return e.targets.every((function(t){return o.currentTarget.contains(t)}))}}),t.dispatchEvent(o)}function U(t,e){if(!e.preventDefault)return!1;var n=!0;if(null!==t.target){var r=e.preventDefaultExclude;if(c(r)){if("tagName"in t.target){var o=t.target.tagName;n=!r.test(o)}}else u(r)&&(n=!r(t))}return n}var H=[x,M,w,E];function B(t,e,n){return H.forEach((function(r){t.addEventListener(r,e,n)})),t.addEventListener(L,e,n),window.addEventListener(k,e,n),window.addEventListener(P,e,n),function(){H.forEach((function(n){t.removeEventListener(n,e)})),t.removeEventListener(L,e,n),window.removeEventListener(k,e,n),window.removeEventListener(P,e,n)}}function q(t,e,n){var r,i,a=null===n||void 0===n?void 0:n.name;if(void 0===a||void 0===t._$recognizerMap[a]){var s=new e(n);try{for(var c=o(s.computeFunctions),u=c.next();!u.done;u=c.next()){var p=u.value,l=p._id;void 0===t._$computeFunctionMap[l]&&(t._$computeFunctionMap[l]="version"in t?p:p())}}catch(f){r={error:f}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}t._$recognizerMap[s.name]=s,t._$recognizers.push(t._$recognizerMap[s.name])}}function G(t,e){var n,r;if(void 0===e)t._$recognizers=[],t._$recognizerMap={};else try{for(var a=o(t._$recognizers.entries()),s=a.next();!s.done;s=a.next()){var c=i(s.value,2),u=c[0],p=c[1];if(e===p.options.name){t._$recognizers.splice(u,1),delete t._$recognizerMap[e];break}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}var J="at:after";function K(t,e){var r=e.type,o=e.target;t.emit(r,e),t.emit(J,e),t.options.domEvents&&void 0!==t.el&&null!==o&&(R(o,e,t.options.domEvents),R(o,n(n({},e),{_type:e.type,type:J}),t.options.domEvents))}var Z={domEvents:{bubbles:!0,cancelable:!0},preventDefault:!0,preventDefaultExclude:/^(?:INPUT|TEXTAREA|BUTTON|SELECT)$/},Q=function(t){function r(e,o){var i,a=t.call(this)||this;for(var s in a._$computeFunctionMap={},a._$recognizerMap={},a._$recognizers=[],a.el=e,a.options=n(n({},Z),o),r._$computeFunctionMap)a._$computeFunctionMap[s]=r._$computeFunctionMap[s]();a._$recognizerMap=r._$recognizerMap,a._$recognizers=r._$recognizers;var c=N(a.el),u=V();if(a._$inputCreatorMap=(i={},i[x]=c,i[M]=c,i[w]=c,i[E]=c,i[L]=u,i[k]=u,i[P]=u,i),void 0!==e){e.style.webkitTapHighlightColor="rgba(0,0,0,0)";var p=!1;try{var l={};Object.defineProperty(l,"passive",{get:function(){p=!0}}),window.addEventListener("_",(function(){}),l)}catch(f){}a.on("unbind",B(e,a.catchEvent.bind(a),!(a.options.preventDefault||!p)&&{passive:!0}))}return a}return e(r,t),r.prototype.target=function(t){var e=this;return{on:function(n,r){e.on(n,r,(function(e){var n=e.targets;return e.target===t&&n.every((function(e){return t.contains(e)}))}))}}},r.prototype.catchEvent=function(t){var e,r,i=this;U(t,this.options)&&t.preventDefault();var a=this._$inputCreatorMap[t.type](t);if(void 0!==a){var s="at",c=s+":"+a.stage;this.emit(s,a),this.emit(c,a);var u=this.options.domEvents;if(!1!==u){var p=t.target;null!==p&&(R(p,n(n({},a),{type:s}),u),R(p,n(n({},a),{type:c}),u))}var l=a;for(var f in this._$computeFunctionMap)Object.assign(l,this._$computeFunctionMap[f](l));var h=function(t){if(t.disabled)return"continue";t.recognize(l,(function(e){var r=n(n({},l),{type:e,baseType:t.name});null===Object||void 0===Object||Object.freeze(r),void 0===i.beforeEachHook?K(i,r):i.beforeEachHook(t,i._$recognizerMap,(function(){K(i,r)}))}))};try{for(var d=o(this._$recognizers),v=d.next();!v.done;v=d.next()){var y=v.value;h(y)}}catch(g){e={error:g}}finally{try{v&&!v.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}}},r.prototype.use=function(t,e){q(this,t,e)},r.prototype.removeUse=function(t){G(this,t)},r.prototype.beforeEach=function(t){this.beforeEachHook=t},r.prototype.get=function(t){return this._$recognizerMap[t]},r.prototype.set=function(t){this.options=n(n({},this.options),t)},r.prototype.destroy=function(){this.emit("unbind"),this.listenersMap={}},r.version="1.0.5",r._$recognizers=[],r._$recognizerMap={},r._$computeFunctionMap={},r.use=function(t,e){q(r,t,e)},r.removeUse=function(t){G(r,t)},r}(a);function W(t){-1!==[A,X,I,j].indexOf(t._$status)&&(t._$status=S)}function tt(t,e,n){var r,o,i,a,s,c,u,p={1:(r={},r[S]=(o={},o[d]=O,o[y]=j,o[v]=j,o),r[O]=(i={},i[d]=z,i[y]=A,i[v]=X,i),r[z]=(a={},a[d]=z,a[y]=A,a[v]=X,a),r),0:(s={},s[O]=(c={},c[d]=j,c[y]=A,c[v]=X,c),s[z]=(u={},u[h]=j,u[d]=j,u[y]=A,u[v]=X,u),s)},l=p[Number(t)][e];return void 0!==l&&l[n]||e}function et(t,e,n){var r=t._$test(e);W(t);var o=e.stage;t._$status=tt(r,t._$status,o),t._$isRecognized=[O,z].includes(t._$status);var i=t.name,a=t._$status,s=t._$isRecognized;return s&&n(i),(s||[A,X].includes(t._$status))&&n(i+a),r}var nt=function(){function t(t){this.disabled=!1,this._$isRecognized=!1,this._$status=S,this.computeFunctions=[],this.options=t,this.name=this.options.name}return t.prototype.set=function(t){return void 0!==t&&(this.options=n(n({},this.options),t)),this},t.prototype._$isValidPointLength=function(t){return this.options.pointLength===t},t}(),rt=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},ot=function(t,e){return t.x*e.x+t.y*e.y},it=function(t,e){var n=rt(t)*rt(e);if(0===n)return 0;var r=ot(t,e)/n;return r>1&&(r=1),Math.acos(r)},at=function(t,e){return t.x*e.y-e.x*t.y},st=function(t){return t/Math.PI*180},ct=function(t,e){var n=it(t,e);return at(t,e)>0&&(n*=-1),st(n)},ut=function(t,e){return Math.abs(t)>=Math.abs(e)?0<t?m:g:0<e?b:_};function pt(t){return{x:t.points[1][p]-t.points[0][p],y:t.points[1][l]-t.points[0][l]}}function lt(t){var e=t.prevInput,n=t.startMultiInput;if(void 0!==n&&void 0!==e&&t.id!==n.id&&1<e.pointLength&&1<t.pointLength)return{startV:pt(n),prevV:pt(e),activeV:pt(t)}}function ft(){return function(t){var e=(null===t||void 0===t?void 0:t._vs)||lt(t);if(void 0!==e&&e.activeV){var n=e.prevV,r=e.startV,o=e.activeV,i=Math.round(ct(o,n)),a=Math.round(ct(o,r));return{angle:a,deltaAngle:i,_vs:e}}}}function ht(){return function(t){var e=t.prevInput,n=0,r=0,o=0;if(void 0!==e&&(n=t.x-e.x,r=t.y-e.y,0!==n||0!==r)){var i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));o=Math.round(st(Math.acos(Math.abs(n)/i)))}return{deltaX:n,deltaY:r,deltaXYAngle:o}}}function dt(){var t,e=0,n=0,r=0,o=0,i=0;return function(a){var s=a.stage,c=a.startInput;return h===s?(e=0,n=0,r=0,o=0,i=0):d===s&&(e=Math.round(a.points[0][p]-c.points[0][p]),n=Math.round(a.points[0][l]-c.points[0][l]),r=Math.abs(e),o=Math.abs(n),i=Math.round(rt({x:r,y:o})),t=ut(e,n)),{displacementX:e,displacementY:n,distanceX:r,distanceY:o,distance:i,overallDirection:t}}}function vt(){var t=0;return function(e){var n=e.stage;return h===n&&(t=e.pointLength),{maxPointLength:t}}}function yt(){return function(t){var e=(null===t||void 0===t?void 0:t._vs)||lt(t);if(void 0!==e&&e.activeV){var n=e.prevV,r=e.startV,o=e.activeV,i=C(rt(o)/rt(n)),a=C(rt(o)/rt(r));return{scale:a,deltaScale:i,_vs:e}}}}function gt(){var t,e,n=0,r=0,o=0,i=0;return function(a){if(void 0!==a){var s=a.stage;e=e||a.startInput;var c=a.timestamp-e.timestamp;if(d===s&&f<c){var u=a.x-e.x,p=a.y-e.y;o=Math.round(u/c*100)/100,i=Math.round(p/c*100)/100,n=Math.abs(o),r=Math.abs(i),t=ut(u,p)||t,e=a}}return{velocityX:n,velocityY:r,speedX:o,speedY:i,direction:t}}}ft._id="a",ht._id="b",dt._id="c",vt._id="d",yt._id="e",gt._id="f";var mt={name:"tap",pointLength:1,tapTimes:1,waitNextTapTime:300,maxDistance:2,maxDistanceFromPrevTap:9,maxPressTime:250},_t=function(t){function r(e){var r=t.call(this,n(n({},mt),e))||this;return r.computeFunctions=[dt,vt],r._$tapCount=0,r}return e(r,t),r.prototype._isValidDistanceFromPrevTap=function(t){if(void 0!==this._$prevTapPoint){var e=rt({x:t.x-this._$prevTapPoint.x,y:t.y-this._$prevTapPoint.y});return this._$prevTapPoint=t,this.options.maxDistanceFromPrevTap>=e}return this._$prevTapPoint=t,!0},r.prototype._isValidInterval=function(){var t=performance.now();if(void 0===this._$prevTapTime)return this._$prevTapTime=t,!0;var e=t-this._$prevTapTime;return this._$prevTapTime=t,e<this.options.waitNextTapTime},r.prototype.recognize=function(t,e){var r=t.stage,o=t.x,i=t.y;y===r&&(this._$status=S,this._$test(t)?(clearTimeout(this._$countDownToFailTimer),this._isValidDistanceFromPrevTap({x:o,y:i})&&this._isValidInterval()?this._$tapCount++:this._$tapCount=1,0===this._$tapCount%this.options.tapTimes?(this._$status=I,e(this.options.name,n(n({},t),{tapCount:this._$tapCount})),this._$reset()):this._$countDownToFail()):(this._$reset(),this._$status=j))},r.prototype._$countDownToFail=function(){var t=this;this._$countDownToFailTimer=setTimeout((function(){t._$status=j,t._$reset()}),this.options.waitNextTapTime)},r.prototype._$reset=function(){this._$tapCount=0,this._$prevTapPoint=void 0,this._$prevTapTime=void 0},r.prototype._$test=function(t){var e=t.startInput,n=t.pointLength,r=t.timestamp-e.timestamp,o=t.maxPointLength,i=t.distance;return o===this.options.pointLength&&0===n&&this.options.maxDistance>=i&&this.options.maxPressTime>r},r}(nt),bt={name:"pan",threshold:10,pointLength:1},$t=function(t){function r(e){var r=t.call(this,n(n({},bt),e))||this;return r.computeFunctions=[gt,dt,ht],r}return e(r,t),r.prototype._$test=function(t){var e=t.pointLength,n=t.distance;return(this._$isRecognized||this.options.threshold<=n)&&this._$isValidPointLength(e)},r.prototype.recognize=function(t,e){var n=void 0!==t.direction&&et(this,t,e);n&&e(this.options.name+t.direction)},r}(nt),Tt={name:"swipe",threshold:10,velocity:.3,pointLength:1},xt=function(t){function r(e){var r=t.call(this,n(n({},Tt),e))||this;return r.computeFunctions=[dt,gt,vt],r}return e(r,t),r.prototype._$test=function(t){if(y!==t.stage)return!1;var e=t.velocityX,n=t.velocityY,r=t.maxPointLength,o=t.distance;return this.options.pointLength===r&&this.options.threshold<o&&this.options.velocity<Math.max(e,n)},r.prototype.recognize=function(t,e){this._$test(t)&&(e(this.options.name),e(this.options.name+t.direction))},r}(nt),Mt={name:"press",pointLength:1,maxDistance:9,minPressTime:251},wt=function(t){function r(e){var r=t.call(this,n(n({},Mt),e))||this;return r.computeFunctions=[dt],r}return e(r,t),r.prototype.recognize=function(t,e){var n=this,r=t.stage,o=t.startInput,i=t.pointLength;if(h===r&&this._$isValidPointLength(i))W(this),this._$cancel(),this._timeoutId=setTimeout((function(){n._$status=I,e(n.options.name)}),this.options.minPressTime);else if(y===r&&I===this._$status)e(""+this.options.name+_);else if(I!==this._$status){var a=t.timestamp-o.timestamp;(!this._$test(t)||this.options.minPressTime>a&&[y,v].includes(r))&&(this._$cancel(),this._$status=j)}},r.prototype._$test=function(t){var e=t.distance;return this.options.maxDistance>e},r.prototype._$cancel=function(){clearTimeout(this._timeoutId)},r}(nt),Et={name:"pinch",threshold:0,pointLength:2},Pt=function(t){function r(e){var r=t.call(this,n(n({},Et),e))||this;return r.computeFunctions=[yt],r}return e(r,t),r.prototype._$test=function(t){var e=t.pointLength,n=t.scale;return this._$isValidPointLength(e)&&void 0!==n&&(this.options.threshold<Math.abs(n-1)||this._$isRecognized)},r.prototype.recognize=function(t,e){et(this,t,e)},r}(nt),kt={name:"rotate",threshold:0,pointLength:2},Lt=function(t){function r(e){var r=t.call(this,n(n({},kt),e))||this;return r.computeFunctions=[ft],r}return e(r,t),r.prototype._$test=function(t){var e=t.pointLength,n=t.angle;return this._$isValidPointLength(e)&&(this.options.threshold<Math.abs(n)||this._$isRecognized)},r.prototype.recognize=function(t,e){et(this,t,e)},r}(nt);return Q.use(_t),Q.use($t),Q.use(xt),Q.use(wt),Q.use(Pt),Q.use(Lt),Q.Tap=_t,Q.Pan=$t,Q.Swipe=xt,Q.Press=wt,Q.Pinch=Pt,Q.Rotate=Lt,Q.STATUS_POSSIBLE=S,Q.STATUS_START=O,Q.STATUS_MOVE=z,Q.STATUS_END=A,Q.STATUS_CANCELLED=X,Q.STATUS_FAILED=j,Q.STATUS_RECOGNIZED=I,Q}))}});
//# sourceMappingURL=app.5878e655.js.map